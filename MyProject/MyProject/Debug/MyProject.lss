
AVRASM ver. 2.2.8  C:\Microprocessor\MyProject\MyProject\Project.asm Wed May 31 02:28:58 2023

[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\m128def.inc'
C:\Microprocessor\MyProject\MyProject\Project.asm(6): Including file 'C:\Microprocessor\MyProject\MyProject\setting.inc'
C:\Microprocessor\MyProject\MyProject\Project.asm(61): Including file 'C:\Microprocessor\MyProject\MyProject\UART.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(62): Including file 'C:\Microprocessor\MyProject\MyProject\delay.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(179): Including file 'C:\Microprocessor\MyProject\MyProject\PrintPutty.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(226): Including file 'C:\Microprocessor\MyProject\MyProject\help.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(227): Including file 'C:\Microprocessor\MyProject\MyProject\led.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(228): Including file 'C:\Microprocessor\MyProject\MyProject\seg1.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(229): Including file 'C:\Microprocessor\MyProject\MyProject\segn.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(230): Including file 'C:\Microprocessor\MyProject\MyProject\buz.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(231): Including file 'C:\Microprocessor\MyProject\MyProject\Timer0.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(232): Including file 'C:\Microprocessor\MyProject\MyProject\phone.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(233): Including file 'C:\Microprocessor\MyProject\MyProject\photo.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(234): Including file 'C:\Microprocessor\MyProject\MyProject\temp.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(235): Including file 'C:\Microprocessor\MyProject\MyProject\TWI.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(236): Including file 'C:\Microprocessor\MyProject\MyProject\proj.asm'
C:\Microprocessor\MyProject\MyProject\proj.asm(108): Including file 'C:\Microprocessor\MyProject\MyProject\piano.asm'
C:\Microprocessor\MyProject\MyProject\proj.asm(109): Including file 'C:\Microprocessor\MyProject\MyProject\audio.asm'
[builtin](2): Including file 'C:/Program Files (x86)\Atmel\Studio\7.0\Packs\atmel\ATmega_DFP\1.7.374\avrasm\inc\m128def.inc'
C:\Microprocessor\MyProject\MyProject\Project.asm(6): Including file 'C:\Microprocessor\MyProject\MyProject\setting.inc'
C:\Microprocessor\MyProject\MyProject\Project.asm(61): Including file 'C:\Microprocessor\MyProject\MyProject\UART.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(62): Including file 'C:\Microprocessor\MyProject\MyProject\delay.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(179): Including file 'C:\Microprocessor\MyProject\MyProject\PrintPutty.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(226): Including file 'C:\Microprocessor\MyProject\MyProject\help.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(227): Including file 'C:\Microprocessor\MyProject\MyProject\led.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(228): Including file 'C:\Microprocessor\MyProject\MyProject\seg1.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(229): Including file 'C:\Microprocessor\MyProject\MyProject\segn.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(230): Including file 'C:\Microprocessor\MyProject\MyProject\buz.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(231): Including file 'C:\Microprocessor\MyProject\MyProject\Timer0.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(232): Including file 'C:\Microprocessor\MyProject\MyProject\phone.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(233): Including file 'C:\Microprocessor\MyProject\MyProject\photo.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(234): Including file 'C:\Microprocessor\MyProject\MyProject\temp.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(235): Including file 'C:\Microprocessor\MyProject\MyProject\TWI.asm'
C:\Microprocessor\MyProject\MyProject\Project.asm(236): Including file 'C:\Microprocessor\MyProject\MyProject\proj.asm'
C:\Microprocessor\MyProject\MyProject\proj.asm(108): Including file 'C:\Microprocessor\MyProject\MyProject\piano.asm'
C:\Microprocessor\MyProject\MyProject\proj.asm(109): Including file 'C:\Microprocessor\MyProject\MyProject\audio.asm'
                                 
                                 ;***************************************************************************
                                 
                                 ;***** Created: 2011-02-09 12:03 ******* Source: ATmega128.xml ***********
                                 ;*************************************************************************
                                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                                 ;* 
                                 ;* Number            : AVR000
                                 ;* File Name         : "m128def.inc"
                                 ;* Title             : Register/Bit Definitions for the ATmega128
                                 ;* Date              : 2011-02-09
                                 ;* Version           : 2.35
                                 ;* Support E-mail    : avr@atmel.com
                                 ;* Target MCU        : ATmega128
                                 ;* 
                                 ;* DESCRIPTION
                                 ;* When including this file in the assembly program file, all I/O register 
                                 ;* names and I/O register bit names appearing in the data book can be used.
                                 ;* In addition, the six registers forming the three data pointers X, Y and 
                                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                                 ;* SRAM is also defined 
                                 ;* 
                                 ;* The Register names are represented by their hexadecimal address.
                                 ;* 
                                 ;* The Register Bit names are represented by their bit number (0-7).
                                 ;* 
                                 ;* Please observe the difference in using the bit names with instructions
                                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                                 ;* (skip if bit in register set/cleared). The following example illustrates
                                 ;* this:
                                 ;* 
                                 ;* in    r16,PORTB             ;read PORTB latch
                                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                                 ;* out   PORTB,r16             ;output to PORTB
                                 ;* 
                                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                                 ;* rjmp  TOV0_is_set           ;jump if set
                                 ;* ...                         ;otherwise do something else
                                 ;*************************************************************************
                                 
                                 #ifndef _M128DEF_INC_
                                 #define _M128DEF_INC_
                                 
                                 
                                 #pragma partinc 0
                                 
                                 ; ***** SPECIFY DEVICE ***************************************************
                                 .device ATmega128
                                 #pragma AVRPART ADMIN PART_NAME ATmega128
                                 .equ	SIGNATURE_000	= 0x1e
                                 .equ	SIGNATURE_001	= 0x97
                                 .equ	SIGNATURE_002	= 0x02
                                 
                                 #pragma AVRPART CORE CORE_VERSION V2E
                                 
                                 
                                 ; ***** I/O REGISTER DEFINITIONS *****************************************
                                 ; NOTE:
                                 ; Definitions marked "MEMORY MAPPED"are extended I/O ports
                                 ; and cannot be used with IN/OUT instructions
                                 .equ	UCSR1C	= 0x9d	; MEMORY MAPPED
                                 .equ	UDR1	= 0x9c	; MEMORY MAPPED
                                 .equ	UCSR1A	= 0x9b	; MEMORY MAPPED
                                 .equ	UCSR1B	= 0x9a	; MEMORY MAPPED
                                 .equ	UBRR1H	= 0x98	; MEMORY MAPPED
                                 .equ	UBRR1L	= 0x99	; MEMORY MAPPED
                                 .equ	UCSR0C	= 0x95	; MEMORY MAPPED
                                 .equ	UBRR0H	= 0x90	; MEMORY MAPPED
                                 .equ	TCCR3C	= 0x8c	; MEMORY MAPPED
                                 .equ	TCCR3A	= 0x8b	; MEMORY MAPPED
                                 .equ	TCCR3B	= 0x8a	; MEMORY MAPPED
                                 .equ	TCNT3L	= 0x88	; MEMORY MAPPED
                                 .equ	TCNT3H	= 0x89	; MEMORY MAPPED
                                 .equ	OCR3AL	= 0x86	; MEMORY MAPPED
                                 .equ	OCR3AH	= 0x87	; MEMORY MAPPED
                                 .equ	OCR3BL	= 0x84	; MEMORY MAPPED
                                 .equ	OCR3BH	= 0x85	; MEMORY MAPPED
                                 .equ	OCR3CL	= 0x82	; MEMORY MAPPED
                                 .equ	OCR3CH	= 0x83	; MEMORY MAPPED
                                 .equ	ICR3L	= 0x80	; MEMORY MAPPED
                                 .equ	ICR3H	= 0x81	; MEMORY MAPPED
                                 .equ	ETIMSK	= 0x7d	; MEMORY MAPPED
                                 .equ	ETIFR	= 0x7c	; MEMORY MAPPED
                                 .equ	TCCR1C	= 0x7a	; MEMORY MAPPED
                                 .equ	OCR1CL	= 0x78	; MEMORY MAPPED
                                 .equ	OCR1CH	= 0x79	; MEMORY MAPPED
                                 .equ	TWCR	= 0x74	; MEMORY MAPPED
                                 .equ	TWDR	= 0x73	; MEMORY MAPPED
                                 .equ	TWAR	= 0x72	; MEMORY MAPPED
                                 .equ	TWSR	= 0x71	; MEMORY MAPPED
                                 .equ	TWBR	= 0x70	; MEMORY MAPPED
                                 .equ	OSCCAL	= 0x6f	; MEMORY MAPPED
                                 .equ	XMCRA	= 0x6d	; MEMORY MAPPED
                                 .equ	XMCRB	= 0x6c	; MEMORY MAPPED
                                 .equ	EICRA	= 0x6a	; MEMORY MAPPED
                                 .equ	SPMCSR	= 0x68	; MEMORY MAPPED
                                 .equ	PORTG	= 0x65	; MEMORY MAPPED
                                 .equ	DDRG	= 0x64	; MEMORY MAPPED
                                 .equ	PING	= 0x63	; MEMORY MAPPED
                                 .equ	PORTF	= 0x62	; MEMORY MAPPED
                                 .equ	DDRF	= 0x61	; MEMORY MAPPED
                                 .equ	SREG	= 0x3f
                                 .equ	SPL	= 0x3d
                                 .equ	SPH	= 0x3e
                                 .equ	XDIV	= 0x3c
                                 .equ	RAMPZ	= 0x3b
                                 .equ	EICRB	= 0x3a
                                 .equ	EIMSK	= 0x39
                                 .equ	EIFR	= 0x38
                                 .equ	TIMSK	= 0x37
                                 .equ	TIFR	= 0x36
                                 .equ	MCUCR	= 0x35
                                 .equ	MCUCSR	= 0x34
                                 .equ	TCCR0	= 0x33
                                 .equ	TCNT0	= 0x32
                                 .equ	OCR0	= 0x31
                                 .equ	ASSR	= 0x30
                                 .equ	TCCR1A	= 0x2f
                                 .equ	TCCR1B	= 0x2e
                                 .equ	TCNT1L	= 0x2c
                                 .equ	TCNT1H	= 0x2d
                                 .equ	OCR1AL	= 0x2a
                                 .equ	OCR1AH	= 0x2b
                                 .equ	OCR1BL	= 0x28
                                 .equ	OCR1BH	= 0x29
                                 .equ	ICR1L	= 0x26
                                 .equ	ICR1H	= 0x27
                                 .equ	TCCR2	= 0x25
                                 .equ	TCNT2	= 0x24
                                 .equ	OCR2	= 0x23
                                 .equ	OCDR	= 0x22
                                 .equ	WDTCR	= 0x21
                                 .equ	SFIOR	= 0x20
                                 .equ	EEARL	= 0x1e
                                 .equ	EEARH	= 0x1f
                                 .equ	EEDR	= 0x1d
                                 .equ	EECR	= 0x1c
                                 .equ	PORTA	= 0x1b
                                 .equ	DDRA	= 0x1a
                                 .equ	PINA	= 0x19
                                 .equ	PORTB	= 0x18
                                 .equ	DDRB	= 0x17
                                 .equ	PINB	= 0x16
                                 .equ	PORTC	= 0x15
                                 .equ	DDRC	= 0x14
                                 .equ	PINC	= 0x13
                                 .equ	PORTD	= 0x12
                                 .equ	DDRD	= 0x11
                                 .equ	PIND	= 0x10
                                 .equ	SPDR	= 0x0f
                                 .equ	SPSR	= 0x0e
                                 .equ	SPCR	= 0x0d
                                 .equ	UDR0	= 0x0c
                                 .equ	UCSR0A	= 0x0b
                                 .equ	UCSR0B	= 0x0a
                                 .equ	UBRR0L	= 0x09
                                 .equ	ACSR	= 0x08
                                 .equ	ADMUX	= 0x07
                                 .equ	ADCSRA	= 0x06
                                 .equ	ADCH	= 0x05
                                 .equ	ADCL	= 0x04
                                 .equ	PORTE	= 0x03
                                 .equ	DDRE	= 0x02
                                 .equ	PINE	= 0x01
                                 .equ	PINF	= 0x00
                                 
                                 
                                 ; ***** BIT DEFINITIONS **************************************************
                                 
                                 ; ***** ANALOG_COMPARATOR ************
                                 ; SFIOR - Special Function IO Register
                                 .equ	ACME	= 3	; Analog Comparator Multiplexer Enable
                                 
                                 ; ACSR - Analog Comparator Control And Status Register
                                 .equ	ACIS0	= 0	; Analog Comparator Interrupt Mode Select bit 0
                                 .equ	ACIS1	= 1	; Analog Comparator Interrupt Mode Select bit 1
                                 .equ	ACIC	= 2	; Analog Comparator Input Capture Enable
                                 .equ	ACIE	= 3	; Analog Comparator Interrupt Enable
                                 .equ	ACI	= 4	; Analog Comparator Interrupt Flag
                                 .equ	ACO	= 5	; Analog Compare Output
                                 .equ	ACBG	= 6	; Analog Comparator Bandgap Select
                                 .equ	ACD	= 7	; Analog Comparator Disable
                                 
                                 
                                 ; ***** SPI **************************
                                 ; SPDR - SPI Data Register
                                 .equ	SPDR0	= 0	; SPI Data Register bit 0
                                 .equ	SPDR1	= 1	; SPI Data Register bit 1
                                 .equ	SPDR2	= 2	; SPI Data Register bit 2
                                 .equ	SPDR3	= 3	; SPI Data Register bit 3
                                 .equ	SPDR4	= 4	; SPI Data Register bit 4
                                 .equ	SPDR5	= 5	; SPI Data Register bit 5
                                 .equ	SPDR6	= 6	; SPI Data Register bit 6
                                 .equ	SPDR7	= 7	; SPI Data Register bit 7
                                 
                                 ; SPSR - SPI Status Register
                                 .equ	SPI2X	= 0	; Double SPI Speed Bit
                                 .equ	WCOL	= 6	; Write Collision Flag
                                 .equ	SPIF	= 7	; SPI Interrupt Flag
                                 
                                 ; SPCR - SPI Control Register
                                 .equ	SPR0	= 0	; SPI Clock Rate Select 0
                                 .equ	SPR1	= 1	; SPI Clock Rate Select 1
                                 .equ	CPHA	= 2	; Clock Phase
                                 .equ	CPOL	= 3	; Clock polarity
                                 .equ	MSTR	= 4	; Master/Slave Select
                                 .equ	DORD	= 5	; Data Order
                                 .equ	SPE	= 6	; SPI Enable
                                 .equ	SPIE	= 7	; SPI Interrupt Enable
                                 
                                 
                                 ; ***** TWI **************************
                                 ; TWBR - TWI Bit Rate register
                                 .equ	I2BR	= TWBR	; For compatibility
                                 .equ	TWBR0	= 0	; 
                                 .equ	TWBR1	= 1	; 
                                 .equ	TWBR2	= 2	; 
                                 .equ	TWBR3	= 3	; 
                                 .equ	TWBR4	= 4	; 
                                 .equ	TWBR5	= 5	; 
                                 .equ	TWBR6	= 6	; 
                                 .equ	TWBR7	= 7	; 
                                 
                                 ; TWCR - TWI Control Register
                                 .equ	I2CR	= TWCR	; For compatibility
                                 .equ	TWIE	= 0	; TWI Interrupt Enable
                                 .equ	I2IE	= TWIE	; For compatibility
                                 .equ	TWEN	= 2	; TWI Enable Bit
                                 .equ	I2EN	= TWEN	; For compatibility
                                 .equ	ENI2C	= TWEN	; For compatibility
                                 .equ	TWWC	= 3	; TWI Write Collition Flag
                                 .equ	I2WC	= TWWC	; For compatibility
                                 .equ	TWSTO	= 4	; TWI Stop Condition Bit
                                 .equ	I2STO	= TWSTO	; For compatibility
                                 .equ	TWSTA	= 5	; TWI Start Condition Bit
                                 .equ	I2STA	= TWSTA	; For compatibility
                                 .equ	TWEA	= 6	; TWI Enable Acknowledge Bit
                                 .equ	I2EA	= TWEA	; For compatibility
                                 .equ	TWINT	= 7	; TWI Interrupt Flag
                                 .equ	I2INT	= TWINT	; For compatibility
                                 
                                 ; TWSR - TWI Status Register
                                 .equ	I2SR	= TWSR	; For compatibility
                                 .equ	TWPS0	= 0	; TWI Prescaler
                                 .equ	TWS0	= TWPS0	; For compatibility
                                 .equ	I2GCE	= TWPS0	; For compatibility
                                 .equ	TWPS1	= 1	; TWI Prescaler
                                 .equ	TWS1	= TWPS1	; For compatibility
                                 .equ	TWS3	= 3	; TWI Status
                                 .equ	I2S3	= TWS3	; For compatibility
                                 .equ	TWS4	= 4	; TWI Status
                                 .equ	I2S4	= TWS4	; For compatibility
                                 .equ	TWS5	= 5	; TWI Status
                                 .equ	I2S5	= TWS5	; For compatibility
                                 .equ	TWS6	= 6	; TWI Status
                                 .equ	I2S6	= TWS6	; For compatibility
                                 .equ	TWS7	= 7	; TWI Status
                                 .equ	I2S7	= TWS7	; For compatibility
                                 
                                 ; TWDR - TWI Data register
                                 .equ	I2DR	= TWDR	; For compatibility
                                 .equ	TWD0	= 0	; TWI Data Register Bit 0
                                 .equ	TWD1	= 1	; TWI Data Register Bit 1
                                 .equ	TWD2	= 2	; TWI Data Register Bit 2
                                 .equ	TWD3	= 3	; TWI Data Register Bit 3
                                 .equ	TWD4	= 4	; TWI Data Register Bit 4
                                 .equ	TWD5	= 5	; TWI Data Register Bit 5
                                 .equ	TWD6	= 6	; TWI Data Register Bit 6
                                 .equ	TWD7	= 7	; TWI Data Register Bit 7
                                 
                                 ; TWAR - TWI (Slave) Address register
                                 .equ	I2AR	= TWAR	; For compatibility
                                 .equ	TWGCE	= 0	; TWI General Call Recognition Enable Bit
                                 .equ	TWA0	= 1	; TWI (Slave) Address register Bit 0
                                 .equ	TWA1	= 2	; TWI (Slave) Address register Bit 1
                                 .equ	TWA2	= 3	; TWI (Slave) Address register Bit 2
                                 .equ	TWA3	= 4	; TWI (Slave) Address register Bit 3
                                 .equ	TWA4	= 5	; TWI (Slave) Address register Bit 4
                                 .equ	TWA5	= 6	; TWI (Slave) Address register Bit 5
                                 .equ	TWA6	= 7	; TWI (Slave) Address register Bit 6
                                 
                                 
                                 ; ***** USART0 ***********************
                                 ; UDR0 - USART I/O Data Register
                                 .equ	UDR00	= 0	; USART I/O Data Register bit 0
                                 .equ	UDR01	= 1	; USART I/O Data Register bit 1
                                 .equ	UDR02	= 2	; USART I/O Data Register bit 2
                                 .equ	UDR03	= 3	; USART I/O Data Register bit 3
                                 .equ	UDR04	= 4	; USART I/O Data Register bit 4
                                 .equ	UDR05	= 5	; USART I/O Data Register bit 5
                                 .equ	UDR06	= 6	; USART I/O Data Register bit 6
                                 .equ	UDR07	= 7	; USART I/O Data Register bit 7
                                 
                                 ; UCSR0A - USART Control and Status Register A
                                 .equ	MPCM0	= 0	; Multi-processor Communication Mode
                                 .equ	U2X0	= 1	; Double the USART transmission speed
                                 .equ	UPE0	= 2	; Parity Error
                                 .equ	DOR0	= 3	; Data overRun
                                 .equ	FE0	= 4	; Framing Error
                                 .equ	UDRE0	= 5	; USART Data Register Empty
                                 .equ	TXC0	= 6	; USART Transmitt Complete
                                 .equ	RXC0	= 7	; USART Receive Complete
                                 
                                 ; UCSR0B - USART Control and Status Register B
                                 .equ	TXB80	= 0	; Transmit Data Bit 8
                                 .equ	RXB80	= 1	; Receive Data Bit 8
                                 .equ	UCSZ02	= 2	; Character Size
                                 .equ	UCSZ2	= UCSZ02	; For compatibility
                                 .equ	TXEN0	= 3	; Transmitter Enable
                                 .equ	RXEN0	= 4	; Receiver Enable
                                 .equ	UDRIE0	= 5	; USART Data register Empty Interrupt Enable
                                 .equ	TXCIE0	= 6	; TX Complete Interrupt Enable
                                 .equ	RXCIE0	= 7	; RX Complete Interrupt Enable
                                 
                                 ; UCSR0C - USART Control and Status Register C
                                 .equ	UCPOL0	= 0	; Clock Polarity
                                 .equ	UCSZ00	= 1	; Character Size
                                 .equ	UCSZ01	= 2	; Character Size
                                 .equ	USBS0	= 3	; Stop Bit Select
                                 .equ	UPM00	= 4	; Parity Mode Bit 0
                                 .equ	UPM01	= 5	; Parity Mode Bit 1
                                 .equ	UMSEL0	= 6	; USART Mode Select
                                 
                                 ; UBRR0H - USART Baud Rate Register Hight Byte
                                 .equ	UBRR8	= 0	; USART Baud Rate Register bit 8
                                 .equ	UBRR9	= 1	; USART Baud Rate Register bit 9
                                 .equ	UBRR10	= 2	; USART Baud Rate Register bit 10
                                 .equ	UBRR11	= 3	; USART Baud Rate Register bit 11
                                 
                                 ; UBRR0L - USART Baud Rate Register Low Byte
                                 .equ	UBRR0	= 0	; USART Baud Rate Register bit 0
                                 .equ	UBRR1	= 1	; USART Baud Rate Register bit 1
                                 .equ	UBRR2	= 2	; USART Baud Rate Register bit 2
                                 .equ	UBRR3	= 3	; USART Baud Rate Register bit 3
                                 .equ	UBRR4	= 4	; USART Baud Rate Register bit 4
                                 .equ	UBRR5	= 5	; USART Baud Rate Register bit 5
                                 .equ	UBRR6	= 6	; USART Baud Rate Register bit 6
                                 .equ	UBRR7	= 7	; USART Baud Rate Register bit 7
                                 
                                 
                                 ; ***** USART1 ***********************
                                 ; UDR1 - USART I/O Data Register
                                 .equ	UDR10	= 0	; USART I/O Data Register bit 0
                                 .equ	UDR11	= 1	; USART I/O Data Register bit 1
                                 .equ	UDR12	= 2	; USART I/O Data Register bit 2
                                 .equ	UDR13	= 3	; USART I/O Data Register bit 3
                                 .equ	UDR14	= 4	; USART I/O Data Register bit 4
                                 .equ	UDR15	= 5	; USART I/O Data Register bit 5
                                 .equ	UDR16	= 6	; USART I/O Data Register bit 6
                                 .equ	UDR17	= 7	; USART I/O Data Register bit 7
                                 
                                 ; UCSR1A - USART Control and Status Register A
                                 .equ	MPCM1	= 0	; Multi-processor Communication Mode
                                 .equ	U2X1	= 1	; Double the USART transmission speed
                                 .equ	UPE1	= 2	; Parity Error
                                 .equ	DOR1	= 3	; Data overRun
                                 .equ	FE1	= 4	; Framing Error
                                 .equ	UDRE1	= 5	; USART Data Register Empty
                                 .equ	TXC1	= 6	; USART Transmitt Complete
                                 .equ	RXC1	= 7	; USART Receive Complete
                                 
                                 ; UCSR1B - USART Control and Status Register B
                                 .equ	TXB81	= 0	; Transmit Data Bit 8
                                 .equ	RXB81	= 1	; Receive Data Bit 8
                                 .equ	UCSZ12	= 2	; Character Size
                                 .equ	TXEN1	= 3	; Transmitter Enable
                                 .equ	RXEN1	= 4	; Receiver Enable
                                 .equ	UDRIE1	= 5	; USART Data register Empty Interrupt Enable
                                 .equ	TXCIE1	= 6	; TX Complete Interrupt Enable
                                 .equ	RXCIE1	= 7	; RX Complete Interrupt Enable
                                 
                                 ; UCSR1C - USART Control and Status Register C
                                 .equ	UCPOL1	= 0	; Clock Polarity
                                 .equ	UCSZ10	= 1	; Character Size
                                 .equ	UCSZ11	= 2	; Character Size
                                 .equ	USBS1	= 3	; Stop Bit Select
                                 .equ	UPM10	= 4	; Parity Mode Bit 0
                                 .equ	UPM11	= 5	; Parity Mode Bit 1
                                 .equ	UMSEL1	= 6	; USART Mode Select
                                 
                                 ; UBRR1H - USART Baud Rate Register Hight Byte
                                 ;.equ	UBRR8	= 0	; USART Baud Rate Register bit 8
                                 ;.equ	UBRR9	= 1	; USART Baud Rate Register bit 9
                                 ;.equ	UBRR10	= 2	; USART Baud Rate Register bit 10
                                 ;.equ	UBRR11	= 3	; USART Baud Rate Register bit 11
                                 
                                 ; UBRR1L - USART Baud Rate Register Low Byte
                                 ;.equ	UBRR0	= 0	; USART Baud Rate Register bit 0
                                 ;.equ	UBRR1	= 1	; USART Baud Rate Register bit 1
                                 ;.equ	UBRR2	= 2	; USART Baud Rate Register bit 2
                                 ;.equ	UBRR3	= 3	; USART Baud Rate Register bit 3
                                 ;.equ	UBRR4	= 4	; USART Baud Rate Register bit 4
                                 ;.equ	UBRR5	= 5	; USART Baud Rate Register bit 5
                                 ;.equ	UBRR6	= 6	; USART Baud Rate Register bit 6
                                 ;.equ	UBRR7	= 7	; USART Baud Rate Register bit 7
                                 
                                 
                                 ; ***** CPU **************************
                                 ; SREG - Status Register
                                 .equ	SREG_C	= 0	; Carry Flag
                                 .equ	SREG_Z	= 1	; Zero Flag
                                 .equ	SREG_N	= 2	; Negative Flag
                                 .equ	SREG_V	= 3	; Two's Complement Overflow Flag
                                 .equ	SREG_S	= 4	; Sign Bit
                                 .equ	SREG_H	= 5	; Half Carry Flag
                                 .equ	SREG_T	= 6	; Bit Copy Storage
                                 .equ	SREG_I	= 7	; Global Interrupt Enable
                                 
                                 ; MCUCR - MCU Control Register
                                 .equ	IVCE	= 0	; Interrupt Vector Change Enable
                                 .equ	IVSEL	= 1	; Interrupt Vector Select
                                 .equ	SM2	= 2	; Sleep Mode Select
                                 .equ	SM0	= 3	; Sleep Mode Select
                                 .equ	SM1	= 4	; Sleep Mode Select
                                 .equ	SE	= 5	; Sleep Enable
                                 .equ	SRW10	= 6	; External SRAM Wait State Select
                                 .equ	SRE	= 7	; External SRAM Enable
                                 
                                 ; XMCRA - External Memory Control Register A
                                 .equ	SRW11	= 1	; Wait state select bit upper page
                                 .equ	SRW00	= 2	; Wait state select bit lower page
                                 .equ	SRW01	= 3	; Wait state select bit lower page
                                 .equ	SRL0	= 4	; Wait state page limit
                                 .equ	SRL1	= 5	; Wait state page limit
                                 .equ	SRL2	= 6	; Wait state page limit
                                 
                                 ; XMCRB - External Memory Control Register B
                                 .equ	XMM0	= 0	; External Memory High Mask
                                 .equ	XMM1	= 1	; External Memory High Mask
                                 .equ	XMM2	= 2	; External Memory High Mask
                                 .equ	XMBK	= 7	; External Memory Bus Keeper Enable
                                 
                                 ; OSCCAL - Oscillator Calibration Value
                                 .equ	CAL0	= 0	; Oscillator Calibration Value
                                 .equ	CAL1	= 1	; Oscillator Calibration Value
                                 .equ	CAL2	= 2	; Oscillator Calibration Value
                                 .equ	CAL3	= 3	; Oscillator Calibration Value
                                 .equ	CAL4	= 4	; Oscillator Calibration Value
                                 .equ	CAL5	= 5	; Oscillator Calibration Value
                                 .equ	CAL6	= 6	; Oscillator Calibration Value
                                 .equ	CAL7	= 7	; Oscillator Calibration Value
                                 
                                 ; XDIV - XTAL Divide Control Register
                                 .equ	XDIV0	= 0	; XTAl Divide Select Bit 0
                                 .equ	XDIV1	= 1	; XTAl Divide Select Bit 1
                                 .equ	XDIV2	= 2	; XTAl Divide Select Bit 2
                                 .equ	XDIV3	= 3	; XTAl Divide Select Bit 3
                                 .equ	XDIV4	= 4	; XTAl Divide Select Bit 4
                                 .equ	XDIV5	= 5	; XTAl Divide Select Bit 5
                                 .equ	XDIV6	= 6	; XTAl Divide Select Bit 6
                                 .equ	XDIVEN	= 7	; XTAL Divide Enable
                                 
                                 ; MCUCSR - MCU Control And Status Register
                                 .equ	PORF	= 0	; Power-on reset flag
                                 .equ	EXTRF	= 1	; External Reset Flag
                                 .equ	BORF	= 2	; Brown-out Reset Flag
                                 .equ	WDRF	= 3	; Watchdog Reset Flag
                                 .equ	JTRF	= 4	; JTAG Reset Flag
                                 .equ	JTD	= 7	; JTAG Interface Disable
                                 
                                 ; RAMPZ - RAM Page Z Select Register
                                 .equ	RAMPZ0	= 0	; RAM Page Z Select Register Bit 0
                                 
                                 
                                 ; ***** BOOT_LOAD ********************
                                 ; SPMCSR - Store Program Memory Control Register
                                 .equ	SPMCR	= SPMCSR	; For compatibility
                                 .equ	SPMEN	= 0	; Store Program Memory Enable
                                 .equ	PGERS	= 1	; Page Erase
                                 .equ	PGWRT	= 2	; Page Write
                                 .equ	BLBSET	= 3	; Boot Lock Bit Set
                                 .equ	RWWSRE	= 4	; Read While Write section read enable
                                 .equ	ASRE	= RWWSRE	; For compatibility
                                 .equ	RWWSB	= 6	; Read While Write Section Busy
                                 .equ	ASB	= RWWSB	; For compatibility
                                 .equ	SPMIE	= 7	; SPM Interrupt Enable
                                 
                                 
                                 ; ***** JTAG *************************
                                 ; OCDR - On-Chip Debug Related Register in I/O Memory
                                 .equ	OCDR0	= 0	; On-Chip Debug Register Bit 0
                                 .equ	OCDR1	= 1	; On-Chip Debug Register Bit 1
                                 .equ	OCDR2	= 2	; On-Chip Debug Register Bit 2
                                 .equ	OCDR3	= 3	; On-Chip Debug Register Bit 3
                                 .equ	OCDR4	= 4	; On-Chip Debug Register Bit 4
                                 .equ	OCDR5	= 5	; On-Chip Debug Register Bit 5
                                 .equ	OCDR6	= 6	; On-Chip Debug Register Bit 6
                                 .equ	OCDR7	= 7	; On-Chip Debug Register Bit 7
                                 .equ	IDRD	= OCDR7	; For compatibility
                                 
                                 ; MCUCSR - MCU Control And Status Register
                                 ;.equ	JTRF	= 4	; JTAG Reset Flag
                                 ;.equ	JTD	= 7	; JTAG Interface Disable
                                 
                                 
                                 ; ***** MISC *************************
                                 ; SFIOR - Special Function IO Register
                                 .equ	PSR321	= 0	; Prescaler Reset Timer/Counter3, Timer/Counter2, and Timer/Counter1
                                 .equ	PSR1	= PSR321	; For compatibility
                                 .equ	PSR2	= PSR321	; For compatibility
                                 .equ	PSR3	= PSR321	; For compatibility
                                 .equ	PSR0	= 1	; Prescaler Reset Timer/Counter0
                                 .equ	PUD	= 2	; Pull Up Disable
                                 ;.equ	ACME	= 3	; Analog Comparator Multiplexer Enable
                                 .equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** EXTERNAL_INTERRUPT ***********
                                 ; EICRA - External Interrupt Control Register A
                                 .equ	ISC00	= 0	; External Interrupt Sense Control Bit
                                 .equ	ISC01	= 1	; External Interrupt Sense Control Bit
                                 .equ	ISC10	= 2	; External Interrupt Sense Control Bit
                                 .equ	ISC11	= 3	; External Interrupt Sense Control Bit
                                 .equ	ISC20	= 4	; External Interrupt Sense Control Bit
                                 .equ	ISC21	= 5	; External Interrupt Sense Control Bit
                                 .equ	ISC30	= 6	; External Interrupt Sense Control Bit
                                 .equ	ISC31	= 7	; External Interrupt Sense Control Bit
                                 
                                 ; EICRB - External Interrupt Control Register B
                                 .equ	ISC40	= 0	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC41	= 1	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC50	= 2	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC51	= 3	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC60	= 4	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC61	= 5	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC70	= 6	; External Interrupt 7-4 Sense Control Bit
                                 .equ	ISC71	= 7	; External Interrupt 7-4 Sense Control Bit
                                 
                                 ; EIMSK - External Interrupt Mask Register
                                 .equ	GICR	= EIMSK	; For compatibility
                                 .equ	GIMSK	= EIMSK	; For compatibility
                                 .equ	INT0	= 0	; External Interrupt Request 0 Enable
                                 .equ	INT1	= 1	; External Interrupt Request 1 Enable
                                 .equ	INT2	= 2	; External Interrupt Request 2 Enable
                                 .equ	INT3	= 3	; External Interrupt Request 3 Enable
                                 .equ	INT4	= 4	; External Interrupt Request 4 Enable
                                 .equ	INT5	= 5	; External Interrupt Request 5 Enable
                                 .equ	INT6	= 6	; External Interrupt Request 6 Enable
                                 .equ	INT7	= 7	; External Interrupt Request 7 Enable
                                 
                                 ; EIFR - External Interrupt Flag Register
                                 .equ	GIFR	= EIFR	; For compatibility
                                 .equ	INTF0	= 0	; External Interrupt Flag 0
                                 .equ	INTF1	= 1	; External Interrupt Flag 1
                                 .equ	INTF2	= 2	; External Interrupt Flag 2
                                 .equ	INTF3	= 3	; External Interrupt Flag 3
                                 .equ	INTF4	= 4	; External Interrupt Flag 4
                                 .equ	INTF5	= 5	; External Interrupt Flag 5
                                 .equ	INTF6	= 6	; External Interrupt Flag 6
                                 .equ	INTF7	= 7	; External Interrupt Flag 7
                                 
                                 
                                 ; ***** EEPROM ***********************
                                 ; EEDR - EEPROM Data Register
                                 .equ	EEDR0	= 0	; EEPROM Data Register bit 0
                                 .equ	EEDR1	= 1	; EEPROM Data Register bit 1
                                 .equ	EEDR2	= 2	; EEPROM Data Register bit 2
                                 .equ	EEDR3	= 3	; EEPROM Data Register bit 3
                                 .equ	EEDR4	= 4	; EEPROM Data Register bit 4
                                 .equ	EEDR5	= 5	; EEPROM Data Register bit 5
                                 .equ	EEDR6	= 6	; EEPROM Data Register bit 6
                                 .equ	EEDR7	= 7	; EEPROM Data Register bit 7
                                 
                                 ; EECR - EEPROM Control Register
                                 .equ	EERE	= 0	; EEPROM Read Enable
                                 .equ	EEWE	= 1	; EEPROM Write Enable
                                 .equ	EEMWE	= 2	; EEPROM Master Write Enable
                                 .equ	EERIE	= 3	; EEPROM Ready Interrupt Enable
                                 
                                 
                                 ; ***** PORTA ************************
                                 ; PORTA - Port A Data Register
                                 .equ	PORTA0	= 0	; Port A Data Register bit 0
                                 .equ	PA0	= 0	; For compatibility
                                 .equ	PORTA1	= 1	; Port A Data Register bit 1
                                 .equ	PA1	= 1	; For compatibility
                                 .equ	PORTA2	= 2	; Port A Data Register bit 2
                                 .equ	PA2	= 2	; For compatibility
                                 .equ	PORTA3	= 3	; Port A Data Register bit 3
                                 .equ	PA3	= 3	; For compatibility
                                 .equ	PORTA4	= 4	; Port A Data Register bit 4
                                 .equ	PA4	= 4	; For compatibility
                                 .equ	PORTA5	= 5	; Port A Data Register bit 5
                                 .equ	PA5	= 5	; For compatibility
                                 .equ	PORTA6	= 6	; Port A Data Register bit 6
                                 .equ	PA6	= 6	; For compatibility
                                 .equ	PORTA7	= 7	; Port A Data Register bit 7
                                 .equ	PA7	= 7	; For compatibility
                                 
                                 ; DDRA - Port A Data Direction Register
                                 .equ	DDA0	= 0	; Data Direction Register, Port A, bit 0
                                 .equ	DDA1	= 1	; Data Direction Register, Port A, bit 1
                                 .equ	DDA2	= 2	; Data Direction Register, Port A, bit 2
                                 .equ	DDA3	= 3	; Data Direction Register, Port A, bit 3
                                 .equ	DDA4	= 4	; Data Direction Register, Port A, bit 4
                                 .equ	DDA5	= 5	; Data Direction Register, Port A, bit 5
                                 .equ	DDA6	= 6	; Data Direction Register, Port A, bit 6
                                 .equ	DDA7	= 7	; Data Direction Register, Port A, bit 7
                                 
                                 ; PINA - Port A Input Pins
                                 .equ	PINA0	= 0	; Input Pins, Port A bit 0
                                 .equ	PINA1	= 1	; Input Pins, Port A bit 1
                                 .equ	PINA2	= 2	; Input Pins, Port A bit 2
                                 .equ	PINA3	= 3	; Input Pins, Port A bit 3
                                 .equ	PINA4	= 4	; Input Pins, Port A bit 4
                                 .equ	PINA5	= 5	; Input Pins, Port A bit 5
                                 .equ	PINA6	= 6	; Input Pins, Port A bit 6
                                 .equ	PINA7	= 7	; Input Pins, Port A bit 7
                                 
                                 
                                 ; ***** PORTB ************************
                                 ; PORTB - Port B Data Register
                                 .equ	PORTB0	= 0	; Port B Data Register bit 0
                                 .equ	PB0	= 0	; For compatibility
                                 .equ	PORTB1	= 1	; Port B Data Register bit 1
                                 .equ	PB1	= 1	; For compatibility
                                 .equ	PORTB2	= 2	; Port B Data Register bit 2
                                 .equ	PB2	= 2	; For compatibility
                                 .equ	PORTB3	= 3	; Port B Data Register bit 3
                                 .equ	PB3	= 3	; For compatibility
                                 .equ	PORTB4	= 4	; Port B Data Register bit 4
                                 .equ	PB4	= 4	; For compatibility
                                 .equ	PORTB5	= 5	; Port B Data Register bit 5
                                 .equ	PB5	= 5	; For compatibility
                                 .equ	PORTB6	= 6	; Port B Data Register bit 6
                                 .equ	PB6	= 6	; For compatibility
                                 .equ	PORTB7	= 7	; Port B Data Register bit 7
                                 .equ	PB7	= 7	; For compatibility
                                 
                                 ; DDRB - Port B Data Direction Register
                                 .equ	DDB0	= 0	; Port B Data Direction Register bit 0
                                 .equ	DDB1	= 1	; Port B Data Direction Register bit 1
                                 .equ	DDB2	= 2	; Port B Data Direction Register bit 2
                                 .equ	DDB3	= 3	; Port B Data Direction Register bit 3
                                 .equ	DDB4	= 4	; Port B Data Direction Register bit 4
                                 .equ	DDB5	= 5	; Port B Data Direction Register bit 5
                                 .equ	DDB6	= 6	; Port B Data Direction Register bit 6
                                 .equ	DDB7	= 7	; Port B Data Direction Register bit 7
                                 
                                 ; PINB - Port B Input Pins
                                 .equ	PINB0	= 0	; Port B Input Pins bit 0
                                 .equ	PINB1	= 1	; Port B Input Pins bit 1
                                 .equ	PINB2	= 2	; Port B Input Pins bit 2
                                 .equ	PINB3	= 3	; Port B Input Pins bit 3
                                 .equ	PINB4	= 4	; Port B Input Pins bit 4
                                 .equ	PINB5	= 5	; Port B Input Pins bit 5
                                 .equ	PINB6	= 6	; Port B Input Pins bit 6
                                 .equ	PINB7	= 7	; Port B Input Pins bit 7
                                 
                                 
                                 ; ***** PORTC ************************
                                 ; PORTC - Port C Data Register
                                 .equ	PORTC0	= 0	; Port C Data Register bit 0
                                 .equ	PC0	= 0	; For compatibility
                                 .equ	PORTC1	= 1	; Port C Data Register bit 1
                                 .equ	PC1	= 1	; For compatibility
                                 .equ	PORTC2	= 2	; Port C Data Register bit 2
                                 .equ	PC2	= 2	; For compatibility
                                 .equ	PORTC3	= 3	; Port C Data Register bit 3
                                 .equ	PC3	= 3	; For compatibility
                                 .equ	PORTC4	= 4	; Port C Data Register bit 4
                                 .equ	PC4	= 4	; For compatibility
                                 .equ	PORTC5	= 5	; Port C Data Register bit 5
                                 .equ	PC5	= 5	; For compatibility
                                 .equ	PORTC6	= 6	; Port C Data Register bit 6
                                 .equ	PC6	= 6	; For compatibility
                                 .equ	PORTC7	= 7	; Port C Data Register bit 7
                                 .equ	PC7	= 7	; For compatibility
                                 
                                 ; DDRC - Port C Data Direction Register
                                 .equ	DDC0	= 0	; Port C Data Direction Register bit 0
                                 .equ	DDC1	= 1	; Port C Data Direction Register bit 1
                                 .equ	DDC2	= 2	; Port C Data Direction Register bit 2
                                 .equ	DDC3	= 3	; Port C Data Direction Register bit 3
                                 .equ	DDC4	= 4	; Port C Data Direction Register bit 4
                                 .equ	DDC5	= 5	; Port C Data Direction Register bit 5
                                 .equ	DDC6	= 6	; Port C Data Direction Register bit 6
                                 .equ	DDC7	= 7	; Port C Data Direction Register bit 7
                                 
                                 ; PINC - Port C Input Pins
                                 .equ	PINC0	= 0	; Port C Input Pins bit 0
                                 .equ	PINC1	= 1	; Port C Input Pins bit 1
                                 .equ	PINC2	= 2	; Port C Input Pins bit 2
                                 .equ	PINC3	= 3	; Port C Input Pins bit 3
                                 .equ	PINC4	= 4	; Port C Input Pins bit 4
                                 .equ	PINC5	= 5	; Port C Input Pins bit 5
                                 .equ	PINC6	= 6	; Port C Input Pins bit 6
                                 .equ	PINC7	= 7	; Port C Input Pins bit 7
                                 
                                 
                                 ; ***** PORTD ************************
                                 ; PORTD - Port D Data Register
                                 .equ	PORTD0	= 0	; Port D Data Register bit 0
                                 .equ	PD0	= 0	; For compatibility
                                 .equ	PORTD1	= 1	; Port D Data Register bit 1
                                 .equ	PD1	= 1	; For compatibility
                                 .equ	PORTD2	= 2	; Port D Data Register bit 2
                                 .equ	PD2	= 2	; For compatibility
                                 .equ	PORTD3	= 3	; Port D Data Register bit 3
                                 .equ	PD3	= 3	; For compatibility
                                 .equ	PORTD4	= 4	; Port D Data Register bit 4
                                 .equ	PD4	= 4	; For compatibility
                                 .equ	PORTD5	= 5	; Port D Data Register bit 5
                                 .equ	PD5	= 5	; For compatibility
                                 .equ	PORTD6	= 6	; Port D Data Register bit 6
                                 .equ	PD6	= 6	; For compatibility
                                 .equ	PORTD7	= 7	; Port D Data Register bit 7
                                 .equ	PD7	= 7	; For compatibility
                                 
                                 ; DDRD - Port D Data Direction Register
                                 .equ	DDD0	= 0	; Port D Data Direction Register bit 0
                                 .equ	DDD1	= 1	; Port D Data Direction Register bit 1
                                 .equ	DDD2	= 2	; Port D Data Direction Register bit 2
                                 .equ	DDD3	= 3	; Port D Data Direction Register bit 3
                                 .equ	DDD4	= 4	; Port D Data Direction Register bit 4
                                 .equ	DDD5	= 5	; Port D Data Direction Register bit 5
                                 .equ	DDD6	= 6	; Port D Data Direction Register bit 6
                                 .equ	DDD7	= 7	; Port D Data Direction Register bit 7
                                 
                                 ; PIND - Port D Input Pins
                                 .equ	PIND0	= 0	; Port D Input Pins bit 0
                                 .equ	PIND1	= 1	; Port D Input Pins bit 1
                                 .equ	PIND2	= 2	; Port D Input Pins bit 2
                                 .equ	PIND3	= 3	; Port D Input Pins bit 3
                                 .equ	PIND4	= 4	; Port D Input Pins bit 4
                                 .equ	PIND5	= 5	; Port D Input Pins bit 5
                                 .equ	PIND6	= 6	; Port D Input Pins bit 6
                                 .equ	PIND7	= 7	; Port D Input Pins bit 7
                                 
                                 
                                 ; ***** PORTE ************************
                                 ; PORTE - Data Register, Port E
                                 .equ	PORTE0	= 0	; 
                                 .equ	PE0	= 0	; For compatibility
                                 .equ	PORTE1	= 1	; 
                                 .equ	PE1	= 1	; For compatibility
                                 .equ	PORTE2	= 2	; 
                                 .equ	PE2	= 2	; For compatibility
                                 .equ	PORTE3	= 3	; 
                                 .equ	PE3	= 3	; For compatibility
                                 .equ	PORTE4	= 4	; 
                                 .equ	PE4	= 4	; For compatibility
                                 .equ	PORTE5	= 5	; 
                                 .equ	PE5	= 5	; For compatibility
                                 .equ	PORTE6	= 6	; 
                                 .equ	PE6	= 6	; For compatibility
                                 .equ	PORTE7	= 7	; 
                                 .equ	PE7	= 7	; For compatibility
                                 
                                 ; DDRE - Data Direction Register, Port E
                                 .equ	DDE0	= 0	; 
                                 .equ	DDE1	= 1	; 
                                 .equ	DDE2	= 2	; 
                                 .equ	DDE3	= 3	; 
                                 .equ	DDE4	= 4	; 
                                 .equ	DDE5	= 5	; 
                                 .equ	DDE6	= 6	; 
                                 .equ	DDE7	= 7	; 
                                 
                                 ; PINE - Input Pins, Port E
                                 .equ	PINE0	= 0	; 
                                 .equ	PINE1	= 1	; 
                                 .equ	PINE2	= 2	; 
                                 .equ	PINE3	= 3	; 
                                 .equ	PINE4	= 4	; 
                                 .equ	PINE5	= 5	; 
                                 .equ	PINE6	= 6	; 
                                 .equ	PINE7	= 7	; 
                                 
                                 
                                 ; ***** PORTF ************************
                                 ; PORTF - Data Register, Port F
                                 .equ	PORTF0	= 0	; 
                                 .equ	PF0	= 0	; For compatibility
                                 .equ	PORTF1	= 1	; 
                                 .equ	PF1	= 1	; For compatibility
                                 .equ	PORTF2	= 2	; 
                                 .equ	PF2	= 2	; For compatibility
                                 .equ	PORTF3	= 3	; 
                                 .equ	PF3	= 3	; For compatibility
                                 .equ	PORTF4	= 4	; 
                                 .equ	PF4	= 4	; For compatibility
                                 .equ	PORTF5	= 5	; 
                                 .equ	PF5	= 5	; For compatibility
                                 .equ	PORTF6	= 6	; 
                                 .equ	PF6	= 6	; For compatibility
                                 .equ	PORTF7	= 7	; 
                                 .equ	PF7	= 7	; For compatibility
                                 
                                 ; DDRF - Data Direction Register, Port F
                                 .equ	DDF0	= 0	; 
                                 .equ	DDF1	= 1	; 
                                 .equ	DDF2	= 2	; 
                                 .equ	DDF3	= 3	; 
                                 .equ	DDF4	= 4	; 
                                 .equ	DDF5	= 5	; 
                                 .equ	DDF6	= 6	; 
                                 .equ	DDF7	= 7	; 
                                 
                                 ; PINF - Input Pins, Port F
                                 .equ	PINF0	= 0	; 
                                 .equ	PINF1	= 1	; 
                                 .equ	PINF2	= 2	; 
                                 .equ	PINF3	= 3	; 
                                 .equ	PINF4	= 4	; 
                                 .equ	PINF5	= 5	; 
                                 .equ	PINF6	= 6	; 
                                 .equ	PINF7	= 7	; 
                                 
                                 
                                 ; ***** PORTG ************************
                                 ; PORTG - Data Register, Port G
                                 .equ	PORTG0	= 0	; 
                                 .equ	PG0	= 0	; For compatibility
                                 .equ	PORTG1	= 1	; 
                                 .equ	PG1	= 1	; For compatibility
                                 .equ	PORTG2	= 2	; 
                                 .equ	PG2	= 2	; For compatibility
                                 .equ	PORTG3	= 3	; 
                                 .equ	PG3	= 3	; For compatibility
                                 .equ	PORTG4	= 4	; 
                                 .equ	PG4	= 4	; For compatibility
                                 
                                 ; DDRG - Data Direction Register, Port G
                                 .equ	DDG0	= 0	; 
                                 .equ	DDG1	= 1	; 
                                 .equ	DDG2	= 2	; 
                                 .equ	DDG3	= 3	; 
                                 .equ	DDG4	= 4	; 
                                 
                                 ; PING - Input Pins, Port G
                                 .equ	PING0	= 0	; 
                                 .equ	PING1	= 1	; 
                                 .equ	PING2	= 2	; 
                                 .equ	PING3	= 3	; 
                                 .equ	PING4	= 4	; 
                                 
                                 
                                 ; ***** TIMER_COUNTER_0 **************
                                 ; TCCR0 - Timer/Counter Control Register
                                 .equ	CS00	= 0	; Clock Select 0
                                 .equ	CS01	= 1	; Clock Select 1
                                 .equ	CS02	= 2	; Clock Select 2
                                 .equ	WGM01	= 3	; Waveform Generation Mode 1
                                 .equ	CTC0	= WGM01	; For compatibility
                                 .equ	COM00	= 4	; Compare match Output Mode 0
                                 .equ	COM01	= 5	; Compare Match Output Mode 1
                                 .equ	WGM00	= 6	; Waveform Generation Mode 0
                                 .equ	PWM0	= WGM00	; For compatibility
                                 .equ	FOC0	= 7	; Force Output Compare
                                 
                                 ; TCNT0 - Timer/Counter Register
                                 .equ	TCNT0_0	= 0	; 
                                 .equ	TCNT0_1	= 1	; 
                                 .equ	TCNT0_2	= 2	; 
                                 .equ	TCNT0_3	= 3	; 
                                 .equ	TCNT0_4	= 4	; 
                                 .equ	TCNT0_5	= 5	; 
                                 .equ	TCNT0_6	= 6	; 
                                 .equ	TCNT0_7	= 7	; 
                                 
                                 ; OCR0 - Output Compare Register
                                 .equ	OCR0_0	= 0	; 
                                 .equ	OCR0_1	= 1	; 
                                 .equ	OCR0_2	= 2	; 
                                 .equ	OCR0_3	= 3	; 
                                 .equ	OCR0_4	= 4	; 
                                 .equ	OCR0_5	= 5	; 
                                 .equ	OCR0_6	= 6	; 
                                 .equ	OCR0_7	= 7	; 
                                 
                                 ; ASSR - Asynchronus Status Register
                                 .equ	TCR0UB	= 0	; Timer/Counter Control Register 0 Update Busy
                                 .equ	OCR0UB	= 1	; Output Compare register 0 Busy
                                 .equ	TCN0UB	= 2	; Timer/Counter0 Update Busy
                                 .equ	AS0	= 3	; Asynchronus Timer/Counter 0
                                 
                                 ; TIMSK - Timer/Counter Interrupt Mask Register
                                 .equ	TOIE0	= 0	; Timer/Counter0 Overflow Interrupt Enable
                                 .equ	OCIE0	= 1	; Timer/Counter0 Output Compare Match Interrupt register
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag register
                                 .equ	TOV0	= 0	; Timer/Counter0 Overflow Flag
                                 .equ	OCF0	= 1	; Output Compare Flag 0
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR0	= 1	; Prescaler Reset Timer/Counter0
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 
                                 ; ***** TIMER_COUNTER_1 **************
                                 ; TIMSK - Timer/Counter Interrupt Mask Register
                                 .equ	TOIE1	= 2	; Timer/Counter1 Overflow Interrupt Enable
                                 .equ	OCIE1B	= 3	; Timer/Counter1 Output CompareB Match Interrupt Enable
                                 .equ	OCIE1A	= 4	; Timer/Counter1 Output CompareA Match Interrupt Enable
                                 .equ	TICIE1	= 5	; Timer/Counter1 Input Capture Interrupt Enable
                                 
                                 ; ETIMSK - Extended Timer/Counter Interrupt Mask Register
                                 .equ	OCIE1C	= 0	; Timer/Counter 1, Output Compare Match C Interrupt Enable
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag register
                                 .equ	TOV1	= 2	; Timer/Counter1 Overflow Flag
                                 .equ	OCF1B	= 3	; Output Compare Flag 1B
                                 .equ	OCF1A	= 4	; Output Compare Flag 1A
                                 .equ	ICF1	= 5	; Input Capture Flag 1
                                 
                                 ; ETIFR - Extended Timer/Counter Interrupt Flag register
                                 .equ	OCF1C	= 0	; Timer/Counter 1, Output Compare C Match Flag
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR321	= 0	; Prescaler Reset, T/C3, T/C2, T/C1
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 ; TCCR1A - Timer/Counter1 Control Register A
                                 .equ	WGM10	= 0	; Waveform Generation Mode Bit 0
                                 .equ	PWM10	= WGM10	; For compatibility
                                 .equ	WGM11	= 1	; Waveform Generation Mode Bit 1
                                 .equ	PWM11	= WGM11	; For compatibility
                                 .equ	COM1C0	= 2	; Compare Output Mode 1C, bit 0
                                 .equ	COM1C1	= 3	; Compare Output Mode 1C, bit 1
                                 .equ	COM1B0	= 4	; Compare Output Mode 1B, bit 0
                                 .equ	COM1B1	= 5	; Compare Output Mode 1B, bit 1
                                 .equ	COM1A0	= 6	; Compare Ouput Mode 1A, bit 0
                                 .equ	COM1A1	= 7	; Compare Output Mode 1A, bit 1
                                 
                                 ; TCCR1B - Timer/Counter1 Control Register B
                                 .equ	CS10	= 0	; Clock Select bit 0
                                 .equ	CS11	= 1	; Clock Select 1 bit 1
                                 .equ	CS12	= 2	; Clock Select1 bit 2
                                 .equ	WGM12	= 3	; Waveform Generation Mode
                                 .equ	CTC10	= WGM12	; For compatibility
                                 .equ	WGM13	= 4	; Waveform Generation Mode
                                 .equ	CTC11	= WGM13	; For compatibility
                                 .equ	ICES1	= 6	; Input Capture 1 Edge Select
                                 .equ	ICNC1	= 7	; Input Capture 1 Noise Canceler
                                 
                                 ; TCCR1C - Timer/Counter1 Control Register C
                                 .equ	FOC1C	= 5	; Force Output Compare for channel C
                                 .equ	FOC1B	= 6	; Force Output Compare for channel B
                                 .equ	FOC1A	= 7	; Force Output Compare for channel A
                                 
                                 
                                 ; ***** TIMER_COUNTER_2 **************
                                 ; TCCR2 - Timer/Counter Control Register
                                 .equ	CS20	= 0	; Clock Select
                                 .equ	CS21	= 1	; Clock Select
                                 .equ	CS22	= 2	; Clock Select
                                 .equ	WGM21	= 3	; Waveform Generation Mode
                                 .equ	CTC2	= WGM21	; For compatibility
                                 .equ	COM20	= 4	; Compare Match Output Mode
                                 .equ	COM21	= 5	; Compare Match Output Mode
                                 .equ	WGM20	= 6	; Wafeform Generation Mode
                                 .equ	PWM2	= WGM20	; For compatibility
                                 .equ	FOC2	= 7	; Force Output Compare
                                 
                                 ; TCNT2 - Timer/Counter Register
                                 .equ	TCNT2_0	= 0	; Timer/Counter Register Bit 0
                                 .equ	TCNT2_1	= 1	; Timer/Counter Register Bit 1
                                 .equ	TCNT2_2	= 2	; Timer/Counter Register Bit 2
                                 .equ	TCNT2_3	= 3	; Timer/Counter Register Bit 3
                                 .equ	TCNT2_4	= 4	; Timer/Counter Register Bit 4
                                 .equ	TCNT2_5	= 5	; Timer/Counter Register Bit 5
                                 .equ	TCNT2_6	= 6	; Timer/Counter Register Bit 6
                                 .equ	TCNT2_7	= 7	; Timer/Counter Register Bit 7
                                 
                                 ; OCR2 - Output Compare Register
                                 .equ	OCR2_0	= 0	; Output Compare Register Bit 0
                                 .equ	OCR2_1	= 1	; Output Compare Register Bit 1
                                 .equ	OCR2_2	= 2	; Output Compare Register Bit 2
                                 .equ	OCR2_3	= 3	; Output Compare Register Bit 3
                                 .equ	OCR2_4	= 4	; Output Compare Register Bit 4
                                 .equ	OCR2_5	= 5	; Output Compare Register Bit 5
                                 .equ	OCR2_6	= 6	; Output Compare Register Bit 6
                                 .equ	OCR2_7	= 7	; Output Compare Register Bit 7
                                 
                                 ; TIMSK - 
                                 .equ	TOIE2	= 6	; 
                                 .equ	OCIE2	= 7	; 
                                 
                                 ; TIFR - Timer/Counter Interrupt Flag Register
                                 .equ	TOV2	= 6	; Timer/Counter2 Overflow Flag
                                 .equ	OCF2	= 7	; Output Compare Flag 2
                                 
                                 
                                 ; ***** TIMER_COUNTER_3 **************
                                 ; ETIMSK - Extended Timer/Counter Interrupt Mask Register
                                 .equ	OCIE3C	= 1	; Timer/Counter3, Output Compare Match Interrupt Enable
                                 .equ	TOIE3	= 2	; Timer/Counter3 Overflow Interrupt Enable
                                 .equ	OCIE3B	= 3	; Timer/Counter3 Output CompareB Match Interrupt Enable
                                 .equ	OCIE3A	= 4	; Timer/Counter3 Output CompareA Match Interrupt Enable
                                 .equ	TICIE3	= 5	; Timer/Counter3 Input Capture Interrupt Enable
                                 
                                 ; ETIFR - Extended Timer/Counter Interrupt Flag register
                                 .equ	OCF3C	= 1	; Timer/Counter3 Output Compare C Match Flag
                                 .equ	TOV3	= 2	; Timer/Counter3 Overflow Flag
                                 .equ	OCF3B	= 3	; Output Compare Flag 1B
                                 .equ	OCF3A	= 4	; Output Compare Flag 1A
                                 .equ	ICF3	= 5	; Input Capture Flag 1
                                 
                                 ; SFIOR - Special Function IO Register
                                 ;.equ	PSR321	= 0	; Prescaler Reset, T/C3, T/C2, T/C1
                                 ;.equ	PSR1	= PSR321	; For compatibility
                                 ;.equ	PSR2	= PSR321	; For compatibility
                                 ;.equ	TSM	= 7	; Timer/Counter Synchronization Mode
                                 
                                 ; TCCR3A - Timer/Counter3 Control Register A
                                 .equ	WGM30	= 0	; Waveform Generation Mode Bit 0
                                 .equ	PWM30	= WGM30	; For compatibility
                                 .equ	WGM31	= 1	; Waveform Generation Mode Bit 1
                                 .equ	PWM31	= WGM31	; For compatibility
                                 .equ	COM3C0	= 2	; Compare Output Mode 3C, bit 0
                                 .equ	COM3C1	= 3	; Compare Output Mode 3C, bit 1
                                 .equ	COM3B0	= 4	; Compare Output Mode 3B, bit 0
                                 .equ	COM3B1	= 5	; Compare Output Mode 3B, bit 1
                                 .equ	COM3A0	= 6	; Comparet Ouput Mode 3A, bit 0
                                 .equ	COM3A1	= 7	; Compare Output Mode 3A, bit 1
                                 
                                 ; TCCR3B - Timer/Counter3 Control Register B
                                 .equ	CS30	= 0	; Clock Select 3 bit 0
                                 .equ	CS31	= 1	; Clock Select 3 bit 1
                                 .equ	CS32	= 2	; Clock Select3 bit 2
                                 .equ	WGM32	= 3	; Waveform Generation Mode
                                 .equ	CTC30	= WGM32	; For compatibility
                                 .equ	WGM33	= 4	; Waveform Generation Mode
                                 .equ	CTC31	= WGM33	; For compatibility
                                 .equ	ICES3	= 6	; Input Capture 3 Edge Select
                                 .equ	ICNC3	= 7	; Input Capture 3  Noise Canceler
                                 
                                 ; TCCR3C - Timer/Counter3 Control Register C
                                 .equ	FOC3C	= 5	; Force Output Compare for channel C
                                 .equ	FOC3B	= 6	; Force Output Compare for channel B
                                 .equ	FOC3A	= 7	; Force Output Compare for channel A
                                 
                                 ; TCNT3L - Timer/Counter3 Low Byte
                                 .equ	TCN3L0	= 0	; Timer/Counter 3 bit 0
                                 .equ	TCN3L1	= 1	; Timer/Counter 3 bit 1
                                 .equ	TCN3L2	= 2	; Timer/Counter 3 bit 2
                                 .equ	TCN3L3	= 3	; Timer/Counter 3 bit 3
                                 .equ	TCN3L4	= 4	; Timer/Counter 3 bit 4
                                 .equ	TCN3L5	= 5	; Timer/Counter 3 bit 5
                                 .equ	TCN3L6	= 6	; Timer/Counter 3 bit 6
                                 .equ	TCN3L7	= 7	; Timer/Counter 3 bit 7
                                 
                                 
                                 ; ***** WATCHDOG *********************
                                 ; WDTCR - Watchdog Timer Control Register
                                 .equ	WDTCSR	= WDTCR	; For compatibility
                                 .equ	WDP0	= 0	; Watch Dog Timer Prescaler bit 0
                                 .equ	WDP1	= 1	; Watch Dog Timer Prescaler bit 1
                                 .equ	WDP2	= 2	; Watch Dog Timer Prescaler bit 2
                                 .equ	WDE	= 3	; Watch Dog Enable
                                 .equ	WDCE	= 4	; Watchdog Change Enable
                                 .equ	WDTOE	= WDCE	; For compatibility
                                 
                                 
                                 ; ***** AD_CONVERTER *****************
                                 ; ADMUX - The ADC multiplexer Selection Register
                                 .equ	MUX0	= 0	; Analog Channel and Gain Selection Bits
                                 .equ	MUX1	= 1	; Analog Channel and Gain Selection Bits
                                 .equ	MUX2	= 2	; Analog Channel and Gain Selection Bits
                                 .equ	MUX3	= 3	; Analog Channel and Gain Selection Bits
                                 .equ	MUX4	= 4	; Analog Channel and Gain Selection Bits
                                 .equ	ADLAR	= 5	; Left Adjust Result
                                 .equ	REFS0	= 6	; Reference Selection Bit 0
                                 .equ	REFS1	= 7	; Reference Selection Bit 1
                                 
                                 ; ADCSRA - The ADC Control and Status register
                                 .equ	ADCSR	= ADCSRA	; For compatibility
                                 .equ	ADPS0	= 0	; ADC  Prescaler Select Bits
                                 .equ	ADPS1	= 1	; ADC  Prescaler Select Bits
                                 .equ	ADPS2	= 2	; ADC  Prescaler Select Bits
                                 .equ	ADIE	= 3	; ADC Interrupt Enable
                                 .equ	ADIF	= 4	; ADC Interrupt Flag
                                 .equ	ADFR	= 5	; ADC  Free Running Select
                                 .equ	ADSC	= 6	; ADC Start Conversion
                                 .equ	ADEN	= 7	; ADC Enable
                                 
                                 ; ADCH - ADC Data Register High Byte
                                 .equ	ADCH0	= 0	; ADC Data Register High Byte Bit 0
                                 .equ	ADCH1	= 1	; ADC Data Register High Byte Bit 1
                                 .equ	ADCH2	= 2	; ADC Data Register High Byte Bit 2
                                 .equ	ADCH3	= 3	; ADC Data Register High Byte Bit 3
                                 .equ	ADCH4	= 4	; ADC Data Register High Byte Bit 4
                                 .equ	ADCH5	= 5	; ADC Data Register High Byte Bit 5
                                 .equ	ADCH6	= 6	; ADC Data Register High Byte Bit 6
                                 .equ	ADCH7	= 7	; ADC Data Register High Byte Bit 7
                                 
                                 ; ADCL - ADC Data Register Low Byte
                                 .equ	ADCL0	= 0	; ADC Data Register Low Byte Bit 0
                                 .equ	ADCL1	= 1	; ADC Data Register Low Byte Bit 1
                                 .equ	ADCL2	= 2	; ADC Data Register Low Byte Bit 2
                                 .equ	ADCL3	= 3	; ADC Data Register Low Byte Bit 3
                                 .equ	ADCL4	= 4	; ADC Data Register Low Byte Bit 4
                                 .equ	ADCL5	= 5	; ADC Data Register Low Byte Bit 5
                                 .equ	ADCL6	= 6	; ADC Data Register Low Byte Bit 6
                                 .equ	ADCL7	= 7	; ADC Data Register Low Byte Bit 7
                                 
                                 
                                 
                                 ; ***** LOCKSBITS ********************************************************
                                 .equ	LB1	= 0	; Lock bit
                                 .equ	LB2	= 1	; Lock bit
                                 .equ	BLB01	= 2	; Boot Lock bit
                                 .equ	BLB02	= 3	; Boot Lock bit
                                 .equ	BLB11	= 4	; Boot lock bit
                                 .equ	BLB12	= 5	; Boot lock bit
                                 
                                 
                                 ; ***** FUSES ************************************************************
                                 ; LOW fuse bits
                                 .equ	CKSEL0	= 0	; Select Clock Source
                                 .equ	CKSEL1	= 1	; Select Clock Source
                                 .equ	CKSEL2	= 2	; Select Clock Source
                                 .equ	CKSEL3	= 3	; Select Clock Source
                                 .equ	SUT0	= 4	; Select start-up time
                                 .equ	SUT1	= 5	; Select start-up time
                                 .equ	BODEN	= 6	; Brown out detector enable
                                 .equ	BODLEVEL	= 7	; Brown out detector trigger level
                                 
                                 ; HIGH fuse bits
                                 .equ	BOOTRST	= 0	; Select Reset Vector
                                 .equ	BOOTSZ0	= 1	; Select Boot Size
                                 .equ	BOOTSZ1	= 2	; Select Boot Size
                                 .equ	EESAVE	= 3	; EEPROM memory is preserved through chip erase
                                 .equ	CKOPT	= 4	; Oscillator Options
                                 .equ	SPIEN	= 5	; Enable Serial programming and Data Downloading
                                 .equ	JTAGEN	= 6	; Enable JTAG
                                 .equ	OCDEN	= 7	; Enable OCD
                                 
                                 ; EXTENDED fuse bits
                                 .equ	WDTON	= 0	; Watchdog timer always on
                                 .equ	M103C	= 1	; ATmega103 compatibility mode
                                 
                                 
                                 
                                 ; ***** CPU REGISTER DEFINITIONS *****************************************
                                 .def	XH	= r27
                                 .def	XL	= r26
                                 .def	YH	= r29
                                 .def	YL	= r28
                                 .def	ZH	= r31
                                 .def	ZL	= r30
                                 
                                 
                                 
                                 ; ***** DATA MEMORY DECLARATIONS *****************************************
                                 .equ	FLASHEND	= 0xffff	; Note: Word address
                                 .equ	IOEND	= 0x00ff
                                 .equ	SRAM_START	= 0x0100
                                 .equ	SRAM_SIZE	= 4096
                                 .equ	RAMEND	= 0x10ff
                                 .equ	XRAMEND	= 0xffff
                                 .equ	E2END	= 0x0fff
                                 .equ	EEPROMEND	= 0x0fff
                                 .equ	EEADRBITS	= 12
                                 #pragma AVRPART MEMORY PROG_FLASH 131072
                                 #pragma AVRPART MEMORY EEPROM 4096
                                 #pragma AVRPART MEMORY INT_SRAM SIZE 4096
                                 #pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                                 
                                 
                                 
                                 ; ***** BOOTLOADER DECLARATIONS ******************************************
                                 .equ	NRWW_START_ADDR	= 0xf000
                                 .equ	NRWW_STOP_ADDR	= 0xffff
                                 .equ	RWW_START_ADDR	= 0x0
                                 .equ	RWW_STOP_ADDR	= 0xefff
                                 .equ	PAGESIZE	= 128
                                 .equ	FIRSTBOOTSTART	= 0xfe00
                                 .equ	SECONDBOOTSTART	= 0xfc00
                                 .equ	THIRDBOOTSTART	= 0xf800
                                 .equ	FOURTHBOOTSTART	= 0xf000
                                 .equ	SMALLBOOTSTART	= FIRSTBOOTSTART
                                 .equ	LARGEBOOTSTART	= FOURTHBOOTSTART
                                 
                                 
                                 
                                 ; ***** INTERRUPT VECTORS ************************************************
                                 .equ	INT0addr	= 0x0002	; External Interrupt Request 0
                                 .equ	INT1addr	= 0x0004	; External Interrupt Request 1
                                 .equ	INT2addr	= 0x0006	; External Interrupt Request 2
                                 .equ	INT3addr	= 0x0008	; External Interrupt Request 3
                                 .equ	INT4addr	= 0x000a	; External Interrupt Request 4
                                 .equ	INT5addr	= 0x000c	; External Interrupt Request 5
                                 .equ	INT6addr	= 0x000e	; External Interrupt Request 6
                                 .equ	INT7addr	= 0x0010	; External Interrupt Request 7
                                 .equ	OC2addr	= 0x0012	; Timer/Counter2 Compare Match
                                 .equ	OVF2addr	= 0x0014	; Timer/Counter2 Overflow
                                 .equ	ICP1addr	= 0x0016	; Timer/Counter1 Capture Event
                                 .equ	OC1Aaddr	= 0x0018	; Timer/Counter1 Compare Match A
                                 .equ	OC1Baddr	= 0x001a	; Timer/Counter Compare Match B
                                 .equ	OVF1addr	= 0x001c	; Timer/Counter1 Overflow
                                 .equ	OC0addr	= 0x001e	; Timer/Counter0 Compare Match
                                 .equ	OVF0addr	= 0x0020	; Timer/Counter0 Overflow
                                 .equ	SPIaddr	= 0x0022	; SPI Serial Transfer Complete
                                 .equ	URXC0addr	= 0x0024	; USART0, Rx Complete
                                 .equ	UDRE0addr	= 0x0026	; USART0 Data Register Empty
                                 .equ	UTXC0addr	= 0x0028	; USART0, Tx Complete
                                 .equ	ADCCaddr	= 0x002a	; ADC Conversion Complete
                                 .equ	ERDYaddr	= 0x002c	; EEPROM Ready
                                 .equ	ACIaddr	= 0x002e	; Analog Comparator
                                 .equ	OC1Caddr	= 0x0030	; Timer/Counter1 Compare Match C
                                 .equ	ICP3addr	= 0x0032	; Timer/Counter3 Capture Event
                                 .equ	OC3Aaddr	= 0x0034	; Timer/Counter3 Compare Match A
                                 .equ	OC3Baddr	= 0x0036	; Timer/Counter3 Compare Match B
                                 .equ	OC3Caddr	= 0x0038	; Timer/Counter3 Compare Match C
                                 .equ	OVF3addr	= 0x003a	; Timer/Counter3 Overflow
                                 .equ	URXC1addr	= 0x003c	; USART1, Rx Complete
                                 .equ	UDRE1addr	= 0x003e	; USART1, Data Register Empty
                                 .equ	UTXC1addr	= 0x0040	; USART1, Tx Complete
                                 .equ	TWIaddr	= 0x0042	; 2-wire Serial Interface
                                 .equ	SPMRaddr	= 0x0044	; Store Program Memory Read
                                 
                                 .equ	INT_VECTORS_SIZE	= 70	; size in words
                                 
                                 #endif  /* _M128DEF_INC_ */
                                 
                                 ; ***** END OF FILE ******************************************************
                                 
                                 ;* File Name : "Project.asm"
                                 ;* Project. Board_Test_Manager with Project
                                 ;***************************************************************************
                                  
                                 #include "setting.inc"
                                 
                                 ;* File Name : "setting.inc"
                                 ;*    macro 
                                 ;***************************************************************************
                                 
                                 #define F_CPU 16000000 ; CPU 16MHz
                                 #define FND_TIME 1 ; Delay  
                                 
                                 ;   
                                 #define BAUDRATE 57600
                                 #define UBRR0 (F_CPU / (BAUDRATE * 16)) - 1
                                 
                                 ; Keyboard 
                                 #define LF 0x0A ; Line Feed
                                 #define CR 0x0D ; Carriage Return
                                 #define EOS 0x00 ; End of String
                                 #define BS 0x7F ; Back Space
                                 #define SP 0x20 ; Spacebar
                                 
                                 #define SetGREEN 0x1b,"[0;32m"
                                 #define ClrCOLOR 0x1b,"[0m"
                                 
                                 ; FND, LED
                                 #define GoStop r3
                                 
                                 #define SREG2 r11 ; Interrupt   Status Register    
                                 #define Timer0cnt r16 ; 1 244 Interrupt     
                                 #define temp r17
                                 
                                 #define FND_Data r18 ; SegData    (  7SEG )
                                 #define FND_En r19 ; 7Seg Enable 
                                 #define LEDData r20	; LEDData    
                                 #define FNDcnt r21 ; 10(0~9)  
                                 
                                 #define phonecnt r7 ; phone number   
                                 
                                 ; ADC Data
                                 #define ADdataL r12 ; ADC Data Low
                                 #define ADdataH r13 ; ADC Data High
                                 
                                 ; Temperature
                                 #define ATS75_ADDR_W 0x98 ; i2c  7bit + Write 1bit(10011000)
                                 #define ATS75_ADDR_R 0x99 ; i2c  7bit + Read 1bit(10011001)
                                 #define ATS75_TEMP_REG 0 ; 16bit  (Only Read)
                                 #define ATS75_CONFIG_REG 1 ; 16bit  (Only Read)
                                 
                                 #define TWIdataH r14 ;        
                                 #define TWIdataL r15 ;        
                                 
                                 #define Quotient r20 ; 10   
                                 #define I2Cdata r21 ;     
                                 #define I2Cack r22; ACK / NOACK  
                                 
                                 ; Buzzer
                                 #define BUZ_ON 0x10	; bit4  Buzzer 
                                 #define BUZ_OFF 0x00
                                 
                                 #define DO			17
                                 #define RE			43
                                 #define MI			66
                                 #define FA			77
                                 #define SOL			97
                                 #define RA			114
                                 #define SI			127
                                 #define DDO			137
                                 #define EndSong		0
                                 
                                 #define BUZMode		r6
                                 #define	ToneSong	r8
                                 
                                 ; Piano Code
                                 // 1
                                 #define C 17
                                 #define CS 30
                                 #define D 43
                                 #define DS 55
                                 #define E 66
                                 #define F 77
                                 #define FS 87
                                 #define G 97
                                 #define GS 105
                                 #define A 114
                                 #define AS 122
                                 #define B 127
                                 
                                 // 2
                                 #define CC 137
                                 #define CCS 143
                                 #define DD 149
                                 #define DDS 155
                                 #define EE 161
                                 #define FF 166
                                 #define FFS 171
                                 #define GG 176
                                 #define GGS 181
                                 #define AA 185
                                 #define AAS 189
                                 #define BB 193
                                 
                                 // 3
                                 #define CCC 196
                                 #define CCCS 200
                                 #define DDD 203
                                 #define DDDS 206
                                 #define EEE 209
                                 #define FFF 211
                                 #define FFFS 214
                                 #define GGG 216
                                 #define GGGS 218
                                 #define AAA 220
                                 #define AAAS 222
                                 #define BBB 224
                                 
                                 ; Stack Pointer Set
                                 .macro SETSP
                                 	ldi		r24, low(@0)
                                 	out		SPL, r24
                                 	ldi		r24, high(@0)
                                 	out		SPH, r24
                                 .endmacro
                                 
                                 ; X  Set
                                 .macro SETXY
                                 	ldi		@0H, high(@1)
                                 	ldi		@0L, low(@1)
                                 .endmacro
                                 
                                 ; Z  Set
                                 .macro SETZ
                                 	ldi		ZH, HIGH(2*@0)
                                 	ldi		ZL, LOW(2*@0)
                                 .endmacro
                                 
                                 ; Delay Set
                                 .macro DELAYMS
                                 	ldi		r25, HIGH(@0);
                                 	ldi		r24, LOW(@0);
                                 	rcall	delay_ms;
                                 .endmacro
                                 
                                 ; r0, r1, r2  set
                                 .macro SET_Register_R0R1R2
                                 	clr		r0
                                 	ldi		temp, 0x01
                                 	mov		r1, temp
                                 	ldi		temp, 0xff
                                 	mov		r2, temp
                                 .endmacro
                                 
                                 ; Digit4 Set
                                 .macro SETDigit4
                                 	SETXY X, digit4
                                 
                                 	ldi		temp, @0
                                 	st		X+, temp		
                                 	ldi		temp, @1
                                 	st		X+, temp		
                                 	ldi		temp, @2
                                 	st		X+, temp		
                                 	ldi		temp, @3
                                 	st		X+, temp
                                 .endmacro
                                 
                                 ; PutChar
                                 .macro PUTC
                                 	ldi		r24, @0
                                 	rcall	PutChar
                                 .endmacro
                                 
                                 ; Print Program Memory's String
                                 .macro PRINT
                                 	SETZ	@0
                                 	rcall	PutString
                                 .endmacro
                                 
                                 ; X, Y, Z register Pointer Increase
                                 .macro ADDI16
                                 	subi	@0H, -HIGH(@1)
                                 	subi	@0L, -LOW(@1)
                                 .endmacro
                                 #define	CTRL_C 0x03
                                 
                                 #define	TMODE_LED 0x01 ; LED TESTmode 1 
                                 #define	TMODE_SEG1 0x02 ; SEG1 TESTmode 2 
                                 #define TMODE_SEGN 0x03 ; SEGN TESTmode 3 
                                 #define TMODE_BUZ 0x04 ; BUZ TESTmode 4 
                                 #define TMODE_PHONE 0x05 ; PHONE TESTmode 5 
                                 #define	TMODE_PHOTO 0x06 ; PHOTO TESTmode 6 
                                 #define TMODE_TEMP 0x07 ; TEMP TESTmode 7 
                                 #define TMODE_PROJ 0x08 ; PROJ TESTmode 8 
                                 #define TESTmode r23 ;  TESTmode   
                                 
                                 #define	LocationY r4 ; Audio StrCmp Y   
                                 #define CodeCount r9 ;  (Code)  Count  
                                  
                                 .CSEG
                                 	.ORG	0x0000
000000 940c 0046                 	jmp		RESET
                                 
                                 	// External Interrupt Vector Table
                                 	.ORG	0x00A			; External interrupt 4 
00000a 940c 0474                 	jmp		Ext_Int4		; Switch1  Interrupt     jmp
00000c 940c 0494                 	jmp		Ext_Int5		; Switch2  Interrupt     jmp
                                 
                                 	// Interrupt Vector Table
                                 	.ORG	0x0014			; External interrupt 4 
000014 940c 04ca                 	jmp		Timer2_OVF		; Interrupt  Timer Overflow   Timer2_OVF  
                                 	
                                 	.ORG	0x001C
00001c 940c 0441                 	jmp		Timer1_OVF		; Interrupt  Timer Overflow   Timer0_OVF  
                                 
                                 	.ORG	0x0020
000020 940c 04e7                 	jmp		Timer0_OVF		; Interrupt  Timer Overflow   Timer0_OVF  
                                 
                                 	.ORG	0x0024				; Interrupt Vector Table
000024 940c 0880                 	jmp		UART_RXInt			; RX Complete Interrupt 
                                 
                                 	
                                 	.ORG	0x0046
                                 
                                 RESET:
000046 ef8f
000047 bf8d
000048 e180
000049 bf8e                      	SETSP	RAMEND
00004a 2400
00004b e011
00004c 2e11
00004d ef1f
00004e 2e21                      	SET_Register_R0R1R2
                                 
00004f d007                      	rcall	Uart_Init			; UART    
000050 d0de                      	rcall	PrintTitle
000051 e08d
000052 d00f                      	PUTC	CR
                                 
                                 forever:
000053 d0e2                      	rcall	PrintCmdCursor		; Cursor Print
000054 d346                      	rcall	ReadCmd				; GetString 
000055 d059                      	rcall	CmdInterprete
000056 cffc                      	rjmp	forever
                                 
                                 #include "UART.asm"
                                 
                                 ;* UART Initialization
                                 ;***************************************************************************
                                 Uart_Init:
                                 	; BAUDRATE 
000057 e010                      	ldi		temp, HIGH(UBRR0)
000058 9310 0090                 	sts		UBRR0H, temp		; External I/O  sts 
00005a e110                      	ldi		temp, LOW(UBRR0)
00005b b919                      	out		UBRR0L, temp
                                 	
                                 	; TX, RX Enable
00005c e118                      	ldi		temp, 0x18
00005d b91a                      	out		UCSR0B, temp
                                 
                                 	; Default Mode
00005e e016                      	ldi		temp, 0x06
00005f 9310 0095                 	sts		UCSR0C, temp
                                 
000061 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* PutChar : send a character to RS232C Port
                                 ;***************************************************************************
                                 PutChar:
000062 308d                      	cpi		r24, CR				; Enter Key  
000063 f421                      	brne	PutData
                                 
                                 InsertLF:
000064 938f                      	push	r24					; CR 
000065 e08a                      	ldi		r24, LF
000066 dffb                      	rcall	PutChar
000067 918f                      	pop		r24					; CR 
                                 	
                                 PutData:
000068 9b5d                      	sbis	UCSR0A, UDRE0		; UCSR0A bit 5(UDR Empty  1)
000069 cffe                      	rjmp	PutData				
00006a b98c                      	out		UDR0, r24			; Empty  UDR0 r24  
00006b 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* GetChar : receive a character from RS232C Port
                                 ;***************************************************************************
                                 GetChar:
00006c 9b5f                      	sbis	UCSR0A, RXC0		; UCSR0A bit 7(Recieve Complete  1)
00006d cffe                      	rjmp	GetChar				
00006e b18c                      	in		r24, UDR0			; Complete  UDR0 r24  
00006f 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* PutString : Program Memory  load terminal 
                                 ;***************************************************************************
                                 PutString:
000070 9185                      	lpm		r24, Z+				
000071 3080                      	cpi		r24, EOS			; Program Memory load   EOS (  )
000072 f011                      	breq	EndPutPM
000073 dfee                      	rcall	PutChar				; EOS  
000074 cffb                      	rjmp	PutString			; EOS  
                                 
                                 EndPutPM:
000075 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* GetString : PuTTy    buffer 
                                 ;***************************************************************************
                                 GetString:
000076 931f                      	push	temp
                                 
                                 Loop:
000077 dff4                      	rcall	GetChar				;  
000078 308d                      	cpi		r24, CR				;   
000079 f041                      	breq	EndGet
                                 	
00007a 378f                      	cpi		r24, BS				; BackSpace 
00007b f019                      	breq	Back
                                 
00007c dfe5                      	rcall	PutChar				;   Echoing
00007d 9389                      	st		Y+, r24				; Y 
00007e cff8                      	rjmp	Loop				; EOS  
                                 
                                 Back:
00007f 9721                      	sbiw	Y, 1				; Y     
000080 dfe1                      	rcall	PutChar
000081 cff5                      	rjmp	Loop
                                 
                                 EndGet:
000082 e010                      	ldi		temp, EOS
000083 8318                      	st		Y, temp				;   EOS 
                                 
000084 911f                      	pop		temp
000085 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* PutStringD : DataMemory  load terminal 
                                 ;***************************************************************************
                                 PutStringD:
000086 9189                      	ld		r24, Y+	
000087 3080                      	cpi		r24, EOS			; Data Memory load   EOS (  )
000088 f011                      	breq	EndPutDM
000089 dfd8                      	rcall	PutChar				; EOS  
00008a cffb                      	rjmp	PutStringD			; EOS  
                                 
                                 EndPutDM:
00008b 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* HEX Display : Key   ASCII CODE   
                                 ;***************************************************************************
                                 HexDisp:
00008c 932f                      	push	r18
                                 
00008d 2f28                      	mov		r18, r24			; r24  
00008e 7f80                      	andi	r24, 0xf0			;  4 
00008f 9586                      	lsr		r24
000090 9586                      	lsr		r24
000091 9586                      	lsr		r24
000092 9586                      	lsr		r24
000093 d007                      	rcall	Int2Ascii
000094 dfcd                      	rcall	PutChar
                                 
000095 2f82                      	mov		r24, r18			; r24  
000096 708f                      	andi	r24, 0x0f			;  4 
000097 d003                      	rcall	Int2Ascii
000098 dfc9                      	rcall	PutChar
                                 
000099 912f                      	pop		r18
00009a 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* Int2Ascii :  ASCII  
                                 ;***************************************************************************
                                 Int2Ascii:
00009b 308a                      	cpi		r24, 10				; 10  
00009c f410                      	brsh	ASCII10				; 10   branch
00009d 5d80                      	subi	r24, -'0'			; a -10 (a 10 )
00009e 9508                      	ret
                                 
                                 ; 10(a)    ASCII  
                                 ASCII10:
00009f 5c89                      	subi	r24, -('A' - 10)
0000a0 9508                      	ret
                                 #include "delay.asm"
                                 
0000a1 940e 00a6                 	call	delay1ms	
0000a3 9701                      	sbiw	r25:r24, 1		; 16bit r25, r24  1
0000a4 f7e1                      	brne	delay_ms		; 0  
0000a5 9508                      	ret
                                 
                                 delay1ms:
                                 	;      (push)
0000a6 93cf                      	push	YL
0000a7 93df                      	push	YH
                                 
                                 	; 16MHz  1ms delay  Counter Cycle 16000 
0000a8 e9cb                      	ldi		YL, LOW(((F_CPU/1000)-18)/4)
0000a9 e0df                      	ldi		YH, HIGH(((F_CPU/1000)-18)/4)
                                 
                                 delay1ms_1:
0000aa 9721                      	sbiw	YH:YL, 1
0000ab f7f1                      	brne	delay1ms_1
                                 
                                 	;     (pop)
0000ac 91df                      	pop		YH
0000ad 91cf                      	pop		YL
0000ae 9508                      
                                 ;***************************************************************************
                                 ;* CmdInterprete
                                 ;***************************************************************************
                                 CmdInterprete:
0000af e0d1
0000b0 e0c0                      	SETXY	Y, buffer
0000b1 e0f2
0000b2 e2e8                      	SETZ	CMDList
                                 
0000b3 d2d1                      	rcall	StrCmp			; Compare
0000b4 2388                      	tst		r24				;  0
0000b5 f199                      	breq	CMD_HELP
                                 	
0000b6 50f0
0000b7 5fea                      	ADDI16	Z, 6			;  CMDList  
0000b8 d2cc                      	rcall	StrCmp
0000b9 2388                      	tst		r24
0000ba f189                      	breq	CMD_LED
                                 
0000bb 50f0
0000bc 5fea                      	ADDI16	Z, 6			;  CMDList  
0000bd d2c7                      	rcall	StrCmp
0000be 2388                      	tst		r24
0000bf f189                      	breq	CMD_SEG1
                                 
0000c0 50f0
0000c1 5fea                      	ADDI16	Z, 6			;  CMDList  
0000c2 d2c2                      	rcall	StrCmp
0000c3 2388                      	tst		r24
0000c4 f189                      	breq	CMD_SEGN
                                 
0000c5 50f0
0000c6 5fea                      	ADDI16	Z, 6			;  CMDList  
0000c7 d2bd                      	rcall	StrCmp
0000c8 2388                      	tst		r24
0000c9 f189                      	breq	CMD_PHONE
                                 
0000ca 50f0
0000cb 5fea                      	ADDI16	Z, 6			;  CMDList  
0000cc d2b8                      	rcall	StrCmp
0000cd 2388                      	tst		r24
0000ce f189                      	breq	CMD_BUZ
                                 
0000cf 50f0
0000d0 5fea                      	ADDI16	Z, 6			;  CMDList  
0000d1 d2b3                      	rcall	StrCmp
0000d2 2388                      	tst		r24
0000d3 f189                      	breq	CMD_PHOTO
                                 	
0000d4 50f0
0000d5 5fea                      	ADDI16	Z, 6			;  CMDList  
0000d6 d2ae                      	rcall	StrCmp
0000d7 2388                      	tst		r24
0000d8 f189                      	breq	CMD_TEMP
                                 	
0000d9 50f0
0000da 5fea                      	ADDI16	Z, 6			;  CMDList  
0000db d2a9                      	rcall	StrCmp
0000dc 2388                      	tst		r24
0000dd f189                      	breq	CMD_PROJ
                                 
                                 CMD_WRONG:
0000de e0f6
0000df efe4
0000e0 df8f                      	PRINT	Wrong_MSG
0000e1 e0d1
0000e2 e0c0                      	SETXY	Y, buffer
0000e3 dfa2                      	rcall	PutStringD
0000e4 e281
0000e5 df7c                      	PUTC	'!'
0000e6 e08d
0000e7 df7a                      	PUTC	CR
                                 	
0000e8 9508                      	ret
                                 
                                 CMD_HELP:
0000e9 940e 03a1                 	call	HELP
0000eb 9508                      	ret
                                 
                                 CMD_LED:
0000ec 940e 03b2                 	call	LED_TEST			; CTRL-C    LED Off
0000ee e08d
0000ef df72                      	PUTC	CR
0000f0 9508                      	ret
                                 
                                 CMD_SEG1:
0000f1 940e 03c6                 	call	SEG1_TEST
0000f3 e08d
0000f4 df6d                      	PUTC	CR
0000f5 9508                      	ret
                                 
                                 CMD_SEGN:
0000f6 940e 03f9                 	call	SEGN_TEST
0000f8 e08d
0000f9 df68                      	PUTC	CR
0000fa 9508                      	ret
                                 
                                 CMD_PHONE:
0000fb 940e 0566                 	call	PHONE_TEST
0000fd e08d
0000fe df63                      	PUTC	CR
0000ff 9508                      	ret
                                 
                                 CMD_BUZ:
000100 940e 04aa                 	call	BUZ_TEST
000102 e08d
000103 df5e                      	PUTC	CR
000104 9508                      	ret
                                 
                                 CMD_PHOTO:
000105 940e 059f                 	call	PHOTO_TEST
000107 e08d
000108 df59                      	PUTC	CR
000109 9508                      	ret
                                 
                                 CMD_TEMP:
00010a 940e 05d8                 	call	TEMP_TEST
00010c e08d
00010d df54                      	PUTC	CR
00010e 9508                      	ret
                                 
                                 CMD_PROJ:
00010f 940e 0654                 	call	PROJ_TEST
000111 e08d
000112 df4f                      	PUTC	CR
000113 9508                      	ret
                                 
                                 CMDList:
000114 6568
000115 706c
000116 0000                      	.db "help", EOS, EOS
000117 656c
000118 0064
000119 0000                      	.db "led", EOS, EOS, EOS
00011a 6573
00011b 3167
00011c 0000                      	.db "seg1", EOS, EOS
00011d 6573
00011e 6e67
00011f 0000                      	.db "segn", EOS, EOS
000120 6870
000121 6e6f
000122 0065                      	.db "phone", EOS
000123 7562
000124 007a
000125 0000                      	.db "buz",EOS, EOS, EOS
000126 6870
000127 746f
000128 006f                      	.db "photo", EOS
000129 6574
00012a 706d
00012b 0000                      	.db "temp", EOS, EOS
00012c 7270
00012d 6a6f
00012e 0000                      	.db "proj",EOS, EOS
                                 
                                 #include "PrintPutty.asm"
                                 
                                 ;* Print at Putty
                                 ;***************************************************************************
                                 PrintTitle:
00012f e0f2
000130 e8e8
000131 df3e                      	PRINT	BuildTime
000132 e0f2
000133 eae8
000134 df3b                      	PRINT	Title
000135 9508                      	ret
                                 
                                 PrintCmdCursor:
000136 e0f2
000137 e7e4
000138 df37                      	PRINT	CMDcursor
000139 9508                      	ret
                                 
                                 CMDcursor:
00013a 5b1b
00013b 3b30
00013c 3233
00013d 436d
00013e 444d
00013f 3e3a
000140 203e
000141 5b1b
000142 6d30
000143 0000                      	.db	SetGREEN, "CMD:>> ", ClrCOLOR, EOS, EOS
                                 
                                 BuildTime:
000144 7542
000145 6c69
000146 2074
000147 6e6f
000148 4d20
000149 7961
00014a 3320
00014b 2031
00014c 3032
00014d 3332
00014e 2020
00014f 3230
000150 323a
000151 3a38
000152 3835
000153 000d                      	.db "Built on ",__DATE__,"  ",__TIME__,CR, EOS ;
                                 
                                 Title:
000154 3d2b
000155 3d3d
000156 3d3d
000157 3d3d
000158 3d3d
000159 3d3d
00015a 3d3d
00015b 3d3d
00015c 3d3d
00015d 3d3d
00015e 3d3d
00015f 3d3d
000160 3d3d
000161 3d3d
000162 3d3d
000163 3d3d
000164 3d3d
000165 3d3d
000166 3d3d
000167 3d3d
000168 3d3d
000169 3d3d
00016a 3d3d
00016b 3d3d
00016c 3d3d
00016d 3d3d
00016e 3d3d
00016f 3d3d
000170 3d3d
000171 3d3d
000172 3d3d
000173 3d3d
000174 3d3d
000175 3d3d
000176 0d2b                      	.db "+===================================================================+",CR
000177 207c
000178 6854
000179 7369
00017a 6920
00017b 2073
00017c 6e61
00017d 4120
00017e 5256
00017f 4220
000180 616f
000181 6472
000182 5420
000183 7365
000184 2074
000185 2020
000186 2020
000187 2020
000188 2020
000189 2020
00018a 2020
00018b 2020
00018c 2020
00018d 2020
00018e 2020
00018f 2020
000190 2020
000191 2020
000192 2020
000193 2020
000194 2020
000195 2020
000196 2020
000197 2020
000198 2020
000199 0d7c                      	.db "| This is an AVR Board Test                                         |",CR
00019a 207c
00019b 7250
00019c 676f
00019d 6172
00019e 6d6d
00019f 6465
0001a0 6220
0001a1 2079
0001a2 614b
0001a3 676e
0001a4 4820
0001a5 206f
0001a6 5328
0001a7 7574
0001a8 6564
0001a9 746e
0001aa 2320
0001ab 203a
0001ac 3032
0001ad 3931
0001ae 3031
0001af 3737
0001b0 2935
0001b1 2020
0001b2 2020
0001b3 2020
0001b4 2020
0001b5 2020
0001b6 2020
0001b7 2020
0001b8 2020
0001b9 2020
0001ba 2020
0001bb 2020
0001bc 0d7c                      	.db "| Programmed by Kang Ho (Student #: 201910775)                      |",CR
0001bd 207c
0001be 6f46
0001bf 6c6c
0001c0 776f
0001c1 6e69
0001c2 2067
0001c3 6f63
0001c4 6d6d
0001c5 6e61
0001c6 7364
0001c7 6120
0001c8 6572
0001c9 7020
0001ca 6f72
0001cb 6976
0001cc 6564
0001cd 2064
0001ce 2020
0001cf 2020
0001d0 2020
0001d1 2020
0001d2 2020
0001d3 2020
0001d4 2020
0001d5 2020
0001d6 2020
0001d7 2020
0001d8 2020
0001d9 2020
0001da 2020
0001db 2020
0001dc 2020
0001dd 2020
0001de 2020
0001df 0d7c                      	.db "| Following commands are provided                                   |",CR
0001e0 3d2b
0001e1 3d3d
0001e2 3d3d
0001e3 3d3d
0001e4 3d3d
0001e5 3d3d
0001e6 3d3d
0001e7 3d3d
0001e8 3d3d
0001e9 3d3d
0001ea 3d3d
0001eb 3d3d
0001ec 3d3d
0001ed 3d3d
0001ee 3d3d
0001ef 3d3d
0001f0 3d3d
0001f1 3d3d
0001f2 3d3d
0001f3 3d3d
0001f4 3d3d
0001f5 3d3d
0001f6 3d3d
0001f7 3d3d
0001f8 3d3d
0001f9 3d3d
0001fa 3d3d
0001fb 3d3d
0001fc 3d3d
0001fd 3d3d
0001fe 3d3d
0001ff 3d3d
000200 3d3d
000201 3d3d
000202 0d2b                      	.db "+===================================================================+",CR
000203 207c
000204 6568
000205 706c
000206 3a20
000207 4420
000208 7369
000209 6c70
00020a 7961
00020b 6120
00020c 6c6c
00020d 7320
00020e 7075
00020f 6f70
000210 7472
000211 6465
000212 6320
000213 6d6f
000214 616d
000215 646e
000216 2020
000217 2020
000218 2020
000219 2020
00021a 2020
00021b 2020
00021c 2020
00021d 2020
00021e 2020
00021f 2020
000220 2020
000221 2020
000222 2020
000223 2020
000224 2020
000225 0d7c                      	.db "| help : Display all supported command                              |",CR
000226 207c
000227 656c
000228 2064
000229 3a20
00022a 4c20
00022b 4445
00022c 5420
00022d 7365
00022e 2074
00022f 2020
000230 2020
000231 2020
000232 2020
000233 2020
000234 2020
000235 2020
000236 2020
000237 2020
000238 2020
000239 2020
00023a 2020
00023b 2020
00023c 2020
00023d 2020
00023e 2020
00023f 2020
000240 2020
000241 2020
000242 2020
000243 2020
000244 2020
000245 2020
000246 2020
000247 2020
000248 0d7c                      	.db "| led  : LED Test                                                   |",CR
000249 207c
00024a 6573
00024b 3167
00024c 3a20
00024d 5320
00024e 6e69
00024f 6c67
000250 2065
000251 6553
000252 6d67
000253 6e65
000254 2074
000255 6944
000256 7073
000257 616c
000258 2079
000259 6554
00025a 7473
00025b 2020
00025c 2020
00025d 2020
00025e 2020
00025f 2020
000260 2020
000261 2020
000262 2020
000263 2020
000264 2020
000265 2020
000266 2020
000267 2020
000268 2020
000269 2020
00026a 2020
00026b 0d7c                      	.db "| seg1 : Single Segment Display Test                                |",CR
00026c 207c
00026d 6573
00026e 6e67
00026f 3a20
000270 4d20
000271 6c75
000272 6974
000273 6c70
000274 2065
000275 6553
000276 6d67
000277 6e65
000278 2074
000279 6944
00027a 7073
00027b 616c
00027c 2079
00027d 6554
00027e 7473
00027f 2020
000280 2020
000281 2020
000282 2020
000283 2020
000284 2020
000285 2020
000286 2020
000287 2020
000288 2020
000289 2020
00028a 2020
00028b 2020
00028c 2020
00028d 2020
00028e 0d7c                      	.db "| segn : Multiple Segment Display Test                              |",CR
00028f 207c
000290 6870
000291 6e6f
000292 3a65
000293 5020
000294 6f68
000295 656e
000296 4e20
000297 6d75
000298 6562
000299 2072
00029a 6944
00029b 7073
00029c 616c
00029d 2079
00029e 6554
00029f 7473
0002a0 2020
0002a1 2020
0002a2 2020
0002a3 2020
0002a4 2020
0002a5 2020
0002a6 2020
0002a7 2020
0002a8 2020
0002a9 2020
0002aa 2020
0002ab 2020
0002ac 2020
0002ad 2020
0002ae 2020
0002af 2020
0002b0 2020
0002b1 0d7c                      	.db "| phone: Phone Number Display Test                                  |",CR
0002b2 207c
0002b3 7562
0002b4 207a
0002b5 3a20
0002b6 4220
0002b7 7a75
0002b8 657a
0002b9 2072
0002ba 6554
0002bb 7473
0002bc 2020
0002bd 2020
0002be 2020
0002bf 2020
0002c0 2020
0002c1 2020
0002c2 2020
0002c3 2020
0002c4 2020
0002c5 2020
0002c6 2020
0002c7 2020
0002c8 2020
0002c9 2020
0002ca 2020
0002cb 2020
0002cc 2020
0002cd 2020
0002ce 2020
0002cf 2020
0002d0 2020
0002d1 2020
0002d2 2020
0002d3 2020
0002d4 0d7c                      	.db "| buz  : Buzzer Test                                                |",CR
0002d5 207c
0002d6 6870
0002d7 746f
0002d8 3a6f
0002d9 5020
0002da 6f68
0002db 6f74
0002dc 5320
0002dd 6e65
0002de 6f73
0002df 2072
0002e0 6554
0002e1 7473
0002e2 2020
0002e3 2020
0002e4 2020
0002e5 2020
0002e6 2020
0002e7 2020
0002e8 2020
0002e9 2020
0002ea 2020
0002eb 2020
0002ec 2020
0002ed 2020
0002ee 2020
0002ef 2020
0002f0 2020
0002f1 2020
0002f2 2020
0002f3 2020
0002f4 2020
0002f5 2020
0002f6 2020
0002f7 0d7c                      	.db "| photo: Photo Sensor Test                                          |",CR
0002f8 207c
0002f9 6574
0002fa 706d
0002fb 3a20
0002fc 5420
0002fd 6d65
0002fe 6570
0002ff 6172
000300 7574
000301 6572
000302 5320
000303 6e65
000304 6f73
000305 2072
000306 6554
000307 7473
000308 2020
000309 2020
00030a 2020
00030b 2020
00030c 2020
00030d 2020
00030e 2020
00030f 2020
000310 2020
000311 2020
000312 2020
000313 2020
000314 2020
000315 2020
000316 2020
000317 2020
000318 2020
000319 2020
00031a 0d7c                      	.db "| temp : Temperature Sensor Test                                    |",CR
00031b 207c
00031c 7270
00031d 6a6f
00031e 3a20
00031f 5920
000320 756f
000321 2072
000322 7250
000323 6a6f
000324 6365
000325 2074
000326 6554
000327 7473
000328 2020
000329 2020
00032a 2020
00032b 2020
00032c 2020
00032d 2020
00032e 2020
00032f 2020
000330 2020
000331 2020
000332 2020
000333 2020
000334 2020
000335 2020
000336 2020
000337 2020
000338 2020
000339 2020
00033a 2020
00033b 2020
00033c 2020
00033d 0d7c                      	.db "| proj : Your Project Test                                          |",CR
00033e 3d2b
00033f 3d3d
000340 3d3d
000341 3d3d
000342 3d3d
000343 3d3d
000344 3d3d
000345 3d3d
000346 3d3d
000347 3d3d
000348 3d3d
000349 3d3d
00034a 3d3d
00034b 3d3d
00034c 3d3d
00034d 3d3d
00034e 3d3d
00034f 3d3d
000350 3d3d
000351 3d3d
000352 3d3d
000353 3d3d
000354 3d3d
000355 3d3d
000356 3d3d
000357 3d3d
000358 3d3d
000359 3d3d
00035a 3d3d
00035b 3d3d
00035c 3d3d
00035d 3d3d
00035e 3d3d
00035f 3d3d
000360 0d2b                      	.db "+===================================================================+",CR
000361 5020
000362 6572
000363 7373
000364 6e69
000365 2067
000366 5443
000367 4c52
000368 432d
000369 7420
00036a 7265
00036b 696d
00036c 616e
00036d 6574
00036e 2073
00036f 6573
000370 656c
000371 7463
000372 6465
000373 7420
000374 7365
000375 2074
000376 2121
000377 2021
000378 2020
000379 000d                      	.db " Pressing CTRL-C terminates selected test !!!   ",CR, EOS
                                 
                                 Wrong_MSG:
00037a 7257
00037b 6e6f
00037c 2067
00037d 6f43
00037e 6d6d
00037f 6e61
000380 2064
000381 2e2e
000382 2e2e
000383 2e2e
000384 0000                      	.db "Wrong Command ......", EOS, EOS
                                 
                                 ;***************************************************************************
                                 ;* StrCmp : Compare buffer and pre-defined command
                                 ;***************************************************************************
                                 StrCmp:
000385 93df                      	push	YH
000386 93cf                      	push	YL
000387 93ff                      	push	ZH
000388 93ef                      	push	ZL
000389 933f                      	push	r19
00038a 934f                      	push	r20
                                 
                                 Compare:
00038b 9443                      	inc		LocationY
00038c 2788                      	clr		r24
00038d 9135                      	lpm		r19, Z+			; Z     
00038e 9149                      	ld		r20, Y+			; Y     
00038f 3040                      	cpi		r20, EOS		; EOS   CmpDone
000390 f019                      	breq	CmpDone
                                 
000391 1734                      	cp		r19, r20		;  
000392 f3c1                      	breq	Compare			;  Compare branch
000393 e081                      	ldi		r24, 1			;   r24 1   CmpDone
                                 		
                                 CmpDone:
000394 914f                      	pop		r20
000395 913f                      	pop		r19
000396 91ef                      	pop		ZL
000397 91ff                      	pop		ZH
000398 91cf                      	pop		YL
000399 91df                      	pop		YH
00039a 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* ReadCmd : Cmd  
                                 ;***************************************************************************
                                 ReadCmd:
00039b e0d1
00039c e0c0                      	SETXY	Y, buffer			; Y buffer(DM)  
00039d dcd8                      	rcall	GetString			; PuTTy     
00039e e08d
00039f dcc2                      	PUTC	CR
                                 
0003a0 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;*      include
                                 ;***************************************************************************
                                 #include "help.asm"
                                 
                                 ;* CLEAR the Screen & PrintTitle
                                 ;***************************************************************************
                                 HELP:
0003a1 93ef                      	push	ZL
0003a2 93ff                      	push	ZH
                                 
0003a3 e0f7
0003a4 e5e8                      	SETZ	CLSCode
0003a5 940e 0070                 	call	PutString
0003a7 940e 012f                 	call	PrintTitle
                                 
0003a9 91ff                      	pop		ZH
0003aa 91ef                      	Pop		ZL
0003ab 9508                      	ret
                                 
                                 CLSCode:
0003ac 5b1b
0003ad 3b31
0003ae 4831
0003af 5b1b
0003b0 4a32                      #include "led.asm"
0003b1 0000                      
                                 ;* LED Display with stop by CTRL-C
                                 ;***************************************************************************
                                 LED_TEST:
0003b2 d4c5                      	rcall	UARTInt_On			;  (Service Routine)  RX Interrupt 
0003b3 ba2a                      	out		DDRA, r2
0003b4 e071                      	ldi		TESTmode, TMODE_LED
0003b5 9478                      	sei
                                 
                                 Check_LED:
0003b6 2377                      	tst		TESTmode			; 0(CTRL-C  ) 
0003b7 f049                      	breq	DONE_LED			; 0  LED Off
                                 
0003b8 e810                      	ldi		temp, 0x80
0003b9 2f41                      	mov		LEDData, temp
                                 
                                 LED_Loop:						; LED Control
0003ba bb4b                      	out		PORTA, LEDData
0003bb e090
0003bc e684
0003bd dce3                      	DELAYMS	100
                                 
0003be 9546                      	lsr		LEDData
0003bf f7d1                      	brne	LED_Loop
                                 
0003c0 cff5                      	rjmp	Check_LED
                                 
                                 Done_LED:
0003c1 94f8                      	cli
0003c2 2744                      	clr		LEDData
0003c3 bb4b                      	out		PORTA, LEDData
0003c4 d4b7                      	rcall	UARTint_off
                                 	
0003c5 9508                      	ret
                                 #include "seg1.asm"
                                 
                                 ;* Seg1 Display with stop by CTRL-C
                                 ;***************************************************************************
                                 SEG1_TEST:
0003c6 920f                      	push	r0
0003c7 931f                      	push	temp
0003c8 933f                      	push	FND_En
0003c9 935f                      	push	FNDcnt
0003ca d4ad                      	rcall	UARTInt_On			;  (Service Routine)  RX Interrupt 
                                 
                                 	;  C DDR 
0003cb ef1f                      	ldi		temp, $FF
0003cc bb14                      	out		DDRC, temp		; 7Seg 8bit  
                                 
                                 	;  G DDR (4 7Seg  4bit )
0003cd e01f                      	ldi		temp, $0F
0003ce 9310 0064                 	sts		DDRG, temp		;  4 bit  0F 
                                 
0003d0 e072                      	ldi		TESTmode, TMODE_SEG1
0003d1 9478                      	sei
                                 
                                 Set_Loop:
0003d2 e038                      	ldi		FND_En, $08		;  7seg  FND_En 0000 1000 
                                 
                                 Check_SEG1:
0003d3 2377                      	tst		TESTmode		; 0(CTRL-C  ) 
0003d4 f079                      	breq	DONE_SEG1		; 0  SEG1 Off
                                 
                                 
                                 SEG1_Loop:
0003d5 9330 0065                 	sts		PORTG, FND_En	; PORTG FND_En (  7seg   ) 
0003d7 e05a                      	ldi		FNDcnt, 10		; 10 
0003d8 e0f7
0003d9 eee0                      	SETZ	SegData			; Z  Program Memory SegData 
                                 
                                 Loops:
0003da 9005                      	lpm		r0, Z+			;   Z    
0003db ba05                      	out		PORTC, r0		;   C   
                                 
0003dc e090
0003dd e684
0003de dcc2                      	DELAYMS 100				; 0.1 Delay
                                 
0003df 955a                      	dec		FNDcnt
0003e0 f7c9                      	brne	Loops
                                 
0003e1 9536                      	lsr		FND_En			;     logistic shift right
0003e2 f781                      	brne	Check_Seg1		; 0000  SEG1_Loop
                                 
0003e3 cfee                      	rjmp	Set_Loop		; 0000  Set_Loop 
                                 	
                                 DONE_SEG1:
0003e4 94f8                      	cli
                                 	
                                 	; PORTC off
0003e5 e010                      	ldi		temp, 0x00
0003e6 bb15                      	out		PORTC, temp
                                 
                                 	; PORTG off
0003e7 2733                      	clr		FND_En
0003e8 9330 0065                 	sts		PORTG, FND_En
                                 
0003ea d491                      	rcall	UARTint_off
                                 
0003eb 915f                      	pop		FNDcnt
0003ec 913f                      	pop		FND_En
0003ed 911f                      	pop		temp
0003ee 900f                      	pop		r0
0003ef 9508                      	ret
                                 
                                 
                                 SegData:
0003f0 063f
0003f1 4f5b
0003f2 6d66
0003f3 277d
0003f4 6f7f
0003f5 7c77
0003f6 5e58
0003f7 7179                      #include "segn.asm"
0003f8 0040                      
                                 ;* SegN Display with stop by CTRL-C
                                 ;***************************************************************************
                                 SEGN_TEST:
0003f9 931f                      	push	temp
                                 
0003fa d47d                      	rcall	UARTInt_On		;  (Service Routine)  RX Interrupt 
0003fb 94f8                      	cli						; Disable Interrupt
0003fc d031                      	rcall	ExInt_init
0003fd d03a                      	rcall	Timer1_init
                                 
                                 	; 7SEG  PortC DDR 
0003fe ef1f                      	ser		temp
0003ff bb14                      	out		DDRC, temp
                                 
                                 	; 4 7SEG   PortG DDR 
000400 e01f                      	ldi		temp, $0F		;  4bit 
000401 9310 0064                 	sts		DDRG, temp		; Extended I/O Port
                                 
000403 e073                      	ldi		TESTmode, TMODE_SEGN
                                 
                                 	; 
000404 2c32                      	mov		GoStop, r2			; Go
000405 e0b1
000406 e5a0
000407 e010
000408 931d
000409 e010
00040a 931d
00040b e010
00040c 931d
00040d e010
00040e 931d                      	SETDigit4	0,0,0,0
00040f 9478                      	sei
                                 
                                 Check_SEGN:
000410 2377                      	tst		TESTmode			; 0(CTRL-C  ) 
000411 f091                      	breq	DONE_SEGN			; 0  SEGN Off
000412 e038                      	ldi		FND_En, 0x08		; Enable 0000 1000 
000413 e0b1
000414 e5a0                      	SETXY	X, digit4			; X  digit4  
                                 
                                 SEGN_Loop:
000415 9330 0065                 	sts		PORTG, FND_En	; PORTG FND_En (  7seg   ) 
000417 911d                      	ld		temp, X+		; Offset  
                                 	
000418 e0f7
000419 eee0                      	SETZ	SegData			; PM SegData  Z  
00041a 0fe1                      	add		ZL, temp		; Offset  (, Z   )
00041b 0df0                      	add		ZH, r0
                                 
00041c 9124                      	lpm		FND_Data, Z		;  Z       Load
00041d bb25                      	out		PORTC, FND_Data	; Port C  
                                 
00041e e090
00041f e081
000420 dc80                      	DELAYMS 1
                                 	
                                 	// 4 7SEG      7SEG   shift
000421 9536                      	lsr		FND_En			;     logistic shift right
000422 f369                      	breq	Check_SEGN		; 0000   1000 SetLoop 
000423 cff1                      	rjmp	SEGN_Loop
                                 	
                                 
                                 DONE_SEGN:
000424 94f8                      	cli
000425 e010                      	ldi		temp, 0x00
                                 
                                 	; External Interrupt off
000426 bf19                      	out		EIMSK, temp
                                 
                                 	; PORTC off
000427 bb15                      	out		PORTC, temp
                                 
                                 	; PORTG off
000428 9310 0065                 	sts		PORTG, temp
                                 
                                 	; Timer1 off
00042a bf17                      	out		TIMSK, temp
                                 	
00042b d450                      	rcall	UARTint_off
00042c 911f                      	pop		temp
00042d 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ; Initialization
                                 ; clock source : system clock
                                 ; clock value : 16MHz / 8 = 2Mhz;
                                 ; overflow interrupt freq : 100Hz
                                 ;***************************************************************************
                                 
                                 ExInt_init:
00042e 94f8                      	cli
                                 
00042f e010                      	ldi		temp, 0x00
000430 9310 006a                 	sts		EICRA, temp		;   in/out   sts  
                                 
000432 e01a                      	ldi		temp, 0x0A
000433 bf1a                      	out		EICRB, temp		; Switch 4, 5 falling edge
                                 
000434 e310                      	ldi		temp, 0x30
000435 bf19                      	out		EIMSK, temp		; External Interrupt Mask Register 
                                 
000436 9478                      	sei
000437 9508                      	ret
                                 
                                 Timer1_init:
000438 e012                      	ldi		temp, 0x02		; Clock Source = 16MHz / 8
000439 bd1e                      	out		TCCR1B, temp
                                 
                                 	; 45536~65536 , 20000  1/100sec 
00043a eb11                      	ldi		temp, HIGH(45536)		
00043b bd1d                      	out		TCNT1H, temp
00043c ee10                      	ldi		temp, LOW(45536)
00043d bd1c                      	out		TCNT1L, temp
                                 
00043e e014                      	ldi		temp, 0x04		; Timer1 Overflow Interrupt Enable
00043f bf17                      	out		TIMSK, temp
                                 	
000440 9508                      	ret
                                 
                                 Timer1_OVF:
000441 94f8                      	cli						; Disable Interrupt
000442 93bf                      	push	XH
000443 93af                      	push	XL
000444 931f                      	push	temp
000445 b6bf                      	in		SREG2, SREG		; Status Register 
                                 	
                                 	;   0.01 Time0cnt X -> , TCNT 16 bit   45536  
                                 	; 45536~65536 , 20000  1/100sec 
000446 eb11                      	ldi		temp, HIGH(45536)		
000447 bd1d                      	out		TCNT1H, temp
000448 ee10                      	ldi		temp, LOW(45536)
000449 bd1c                      	out		TCNT1L, temp
                                 
                                 UpdateTime:
00044a 1430                      	cp		GoStop, r0		; GoStop 0  digit   (Stop)
00044b f051                      	breq	UpdateDone
                                 	
00044c e0b1
00044d e5a0                      	SETXY	X, digit4		; digit4  X  
                                 	
00044e e013                      	ldi		temp, 3			; X   3  
00044f 0fa1                      	add		XL, temp
000450 0db0                      	add		XH, r0
                                 
000451 911c                      	ld		temp, X			; X    ( digit4 4  )
000452 9513                      	inc		temp
000453 301a                      	cpi		temp, 10		;   10  
000454 f039                      	breq	Update_2
000455 931c                      	st		X, temp			; X   temp 
                                 	
                                 UpdateDone:
000456 bebf                      	out		SREG, SREG2		; Status Register 
000457 911f                      	pop		temp
000458 91af                      	pop		XL
000459 91bf                      	pop		XH
                                 	
00045a 9478                      	sei						; Enable
00045b 9518                      	reti
                                 
                                 Update_2:
00045c 2711                      	clr		temp			; temp(digit4 4  )
00045d 931c                      	st		X, temp
                                 
00045e 911e                      	ld		temp, -X		; digit4 3   
00045f 9513                      	inc		temp
000460 301a                      	cpi		temp, 10		; 3  10  
000461 f011                      	breq	Update_1
000462 931c                      	st		X, temp			
000463 cff2                      	rjmp	UpdateDone
                                 
                                 Update_1:
000464 2711                      	clr		temp			; temp(digit4 3  )
000465 931c                      	st		X, temp
                                 
000466 911e                      	ld		temp, -X		; digit4 2   
000467 9513                      	inc		temp
000468 301a                      	cpi		temp, 10		; 2  10  
000469 f011                      	breq	Update_0
00046a 931c                      	st		X, temp			
00046b cfea                      	rjmp	UpdateDone
                                 
                                 Update_0:
00046c 2711                      	clr		temp			; temp(digit4 3  )
00046d 931c                      	st		X, temp
                                 
00046e 911e                      	ld		temp, -X		; digit4 1   
00046f 9513                      	inc		temp
000470 3016                      	cpi		temp, 6			; 1  6  
000471 f3d1                      	breq	Update_0
000472 931c                      	st		X, temp			
000473 cfe2                      	rjmp	UpdateDone
                                 
                                 Ext_Int4:
                                 	
000474 94f8                      	cli							; Disable Interrupt
000475 93bf                      	push		XH
000476 93af                      	push		XL
000477 931f                      	push		temp
000478 938f                      	push		r24
000479 939f                      	push		r25
00047a b6bf                      	in			SREG2, SREG		; Status Register 
                                 	
00047b 3078                      	cpi			TESTmode, 0x08
00047c f079                      	breq		Ex4_Proj
                                 	
00047d e0b1
00047e e5a0
00047f e010
000480 931d
000481 e010
000482 931d
000483 e010
000484 931d
000485 e010
000486 931d                      	SETDigit4	0,0,0,0			;  4  00:00 
000487 2c30                      	mov			GoStop, r0		; GoStop 0 (stop)
000488 e090
000489 e08a
00048a dc16                      	DELAYMS		10
00048b c000                      	rjmp		Ex4_Done
                                 
                                 Ex4_Proj:
                                 	// ???
                                 		
                                 Ex4_Done:
                                 
00048c bebf                      	out			SREG, SREG2		; Status Register 
00048d 919f                      	pop			r25
00048e 918f                      	pop			r24
00048f 911f                      	pop			temp
000490 91af                      	pop			XL
000491 91bf                      	pop			XH
000492 9478                      	sei							; Enable
000493 9508                      	ret
                                 
                                 Ext_Int5:
                                 
000494 94f8                      	cli							; Disable Interrupt
000495 93bf                      	push		XH
000496 93af                      	push		XL
000497 931f                      	push		temp
000498 938f                      	push		r24
000499 939f                      	push		r25
00049a b6bf                      	in			SREG2, SREG		; Status Register 
                                 
00049b 3078                      	cpi			TESTmode, 0x08
00049c f029                      	breq		Ex5_Proj
                                 
00049d 9430                      	com			GoStop	 		; GoStop 
00049e e090
00049f e08a
0004a0 dc00                      	DELAYMS		10
0004a1 c000                      	rjmp		Ex5_Done
                                 
                                 Ex5_Proj:
                                 	// ???
                                 
                                 Ex5_Done:
0004a2 bebf                      	out			SREG, SREG2		; Status Register 
0004a3 919f                      	pop			r25
0004a4 918f                      	pop			r24
0004a5 911f                      	pop			temp
0004a6 91af                      	pop			XL
0004a7 91bf                      	pop			XH
0004a8 9478                      	sei							; Enable
                                 #include "buz.asm"
0004a9 9508                      
                                 ;* BUZ Display with stop by CTRL-C
                                 ;***************************************************************************
                                 BUZ_TEST:
0004aa 931f                      	push	temp
0004ab d3cc                      	rcall	UARTInt_On		;  (Service Routine)  RX Interrupt 
                                 
0004ac 94f8                      	cli
0004ad d017                      	rcall	init_Timer2
0004ae 9478                      	sei
                                 
0004af e110                      	ldi		temp, 0x10
0004b0 bb17                      	out		DDRB, temp
0004b1 2466                      	clr		BUZMode
                                 
0004b2 e074                      	ldi		TESTmode, TMODE_BUZ
                                 
                                 Set_BUZ:
0004b3 e0f9
0004b4 ebe6                      	SETZ	Song
                                 
                                 Check_BUZ:
0004b5 2377                      	tst		TESTmode			; 0(CTRL-C  ) 
0004b6 f041                      	breq	DONE_BUZ			; 0  BUZ Off
                                 
                                 Play:
0004b7 9115                      	lpm		temp, Z+		; Program Memory   
                                 	
0004b8 1510                      	cp		temp, r0		; temp 0 
0004b9 f3c9                      	breq	Set_BUZ			; 0 
                                 
0004ba 2e81                      	mov		ToneSong, temp
0004bb e091
0004bc ef84
0004bd dbe3                      	DELAYMS 500				; 60BPM
                                 
0004be cff6                      	rjmp	Check_BUZ
                                 
                                 DONE_BUZ:
0004bf 94f8                      	cli
0004c0 ba08                      	out		PORTB, r0		; PORTB off
0004c1 be07                      	out		TIMSK, r0		;    X
                                 
0004c2 d3b9                      	rcall	UARTint_off
                                 
0004c3 911f                      	pop		temp
0004c4 9508                      	ret
                                 
                                 
                                 ;***************************************************************************
                                 ; Timer/Counter 2 initialization
                                 ; clock source : system clock
                                 ; clock value : 16MHz / 32 = 500Khz;
                                 ;***************************************************************************
                                 
                                 Init_Timer2:
0004c5 e013                      	ldi		temp, 0x03		; 500KHz
0004c6 bd15                      	out		TCCR2, temp
                                 
0004c7 e410                      	ldi		temp, 1<<6		; Timer2 Overflow interrupt -> enable
0004c8 bf17                      	out		TIMSK, temp
                                 
0004c9 9508                      	ret
                                 
                                 Timer2_OVF:
0004ca 94f8                      	cli
0004cb b6bf                      	in		SREG2, SREG
0004cc 931f                      	push	temp
                                 
0004cd 2066                      	tst		BUZMode			; BUZMode 0 
0004ce f421                      	brne	BUZZER_ON		; BUZMode 1 
                                 
                                 BUZZER_OFF:
0004cf 2c61                      	mov		BUZMode, r1		;  On(0xff) 
0004d0 e110                      	ldi		temp, BUZ_ON	
0004d1 bb18                      	out		PORTB, temp		; Port 
0004d2 c002                      	rjmp	ChangeMode_Done
                                 
                                 BUZZER_ON:
0004d3 2466                      	clr		BUZMode			;  Off(0x00) 
0004d4 ba08                      	out		PORTB, r0		; Port 
                                 
                                 ChangeMode_Done:
0004d5 2d18                      	mov		temp, ToneSong	;      TCNT  
0004d6 bd14                      	out		TCNT2, temp;
                                 
0004d7 911f                      	pop		temp
0004d8 bebf                      	out		SREG, SREG2
0004d9 9478                      	sei
0004da 9518                      	reti
                                 
                                 SONG:
0004db 2b11
0004dc 4d42
0004dd 7261
0004de 897f
0004df 0000                      	.db DO, RE, MI, FA, SOL, RA, SI, DDO, EndSong, EndSong
                                 #include "Timer0.asm"
                                 
                                 ; Timer/Counter 0 initialization
                                 ; clock source : system clock
                                 ; clock value : 16MHz / 256 = 62.5Khz;
                                 ; overflow interrupt freq : 62500 / 256 = 244.14Hz
                                 ; phone.asm and photo.asm
                                 ;***************************************************************************
                                 Timer0_init:
0004e0 e016                      	ldi			temp, 0x06		; Clock Source = 16MHz / 256
0004e1 bf13                      	out			TCCR0, temp
                                 
0004e2 e010                      	ldi			temp, 0x00		
0004e3 bf12                      	out			TCNT0, temp		; 0 ~ 255  (, FF -> 00   Interrupt )
                                 
0004e4 e011                      	ldi			temp, 1			; Timer0 Interrupt  Enable
0004e5 bf17                      	out			TIMSK, temp
                                 	
0004e6 9508                      	ret
                                 
                                 Timer0_OVF:
0004e7 94f8                      	cli
0004e8 93bf                      	push		XH
0004e9 93af                      	push		XL
0004ea 93ff                      	push		ZH
0004eb 93ef                      	push		ZL
0004ec 935f                      	push		r21
0004ed 938f                      	push		r24
0004ee 931f                      	push		temp
0004ef b6bf                      	in			SREG2, SREG		; Status Register 
                                 	
0004f0 9503                      	inc			Timer0cnt
0004f1 3f04                      	cpi			Timer0cnt, 244 	; interrupt 244  1
0004f2 f5a1                      	brne		OVF_Done
                                 
0004f3 2700                      	clr			Timer0cnt
0004f4 3076                      	cpi			TESTmode, TMODE_PHOTO ; PHOTO DISPLAY   
0004f5 f0b9                      	breq		PHOTO_OVF
                                 
0004f6 3077                      	cpi			TESTmode, TMODE_TEMP
0004f7 f121                      	breq		TEMP_OVF
                                 
0004f8 e0fa
0004f9 ebe6                      	SETZ		PhoneNum		; PhoneNum 
0004fa 0de7                      	add			ZL, phonecnt	; phonecnt  (, Z   )
0004fb 1df0                      	adc			ZH, r0
                                 
0004fc e110                      	ldi			temp, 16
0004fd 1671                      	cp			phonecnt, temp
0004fe f049                      	breq		EndPhone
                                 
0004ff 9473                      	inc			phonecnt
000500 e0b1
000501 e5a0                      	SETXY		X, digit4		; digit4 		
000502 e054                      	ldi			r21, 0x04
                                 
                                 Copy_Loop:						; 4 Z  
000503 9115                      	lpm			temp, Z+		
000504 931d                      	st			X+, temp
                                 
000505 955a                      	dec			r21
000506 f7e1                      	brne		Copy_Loop
000507 c01f                      	rjmp		OVF_Done
                                 
                                 EndPhone:
000508 2477                      	clr			phonecnt
000509 e0b1
00050a e5a0                      	SETXY		X, digit4		; digit4 		
00050b e054                      	ldi			r21, 0x04
00050c cff6                      	rjmp		Copy_Loop
                                 
                                 ;***************************************************************************
                                 ; PHOTO  HEXDsiplay  FND 
                                 ;***************************************************************************
                                 PHOTO_OVF:
00050d 940e 088e                 	call		Read_ADC
                                 	
00050f e0b1
000510 e5a0                      	SETXY		X, digit4
                                 
000511 2d1d                      	mov			temp, ADdataH
000512 d01e                      	rcall		CDS_HEX
000513 2d1c                      	mov			temp, ADdataL
000514 d01c                      	rcall		CDS_HEX
                                 
                                 	; 1  
000515 2d8d                      	mov			r24, ADdataH
000516 db75                      	rcall		HexDisp
000517 2d8c                      	mov			r24, ADdataL
000518 db73                      	rcall		HexDisp
000519 e08d
00051a db47                      	PUTC		CR
                                 
00051b c00b                      	rjmp		OVF_Done
                                 
                                 ;***************************************************************************
                                 ; TEMP_OVF : Temperature  FND 
                                 ;***************************************************************************
                                 TEMP_OVF:
00051c 940e 061c                 	call		TempRead
                                 	
00051e e0b1
00051f e5a0                      	SETXY		X, digit4
000520 d01d                      	rcall		TEMP_DEC
                                 
                                 	; 1  
000521 2d8e                      	mov			r24, TWIdataH
000522 db69                      	rcall		HexDisp
000523 2d8f                      	mov			r24, TWIdataL
000524 db67                      	rcall		HexDisp
000525 e08d
000526 db3b                      	PUTC		CR
                                 
                                 OVF_Done:
000527 bebf                      	out			SREG, SREG2		; Status Register 
000528 911f                      	pop			temp
000529 918f                      	pop			r24
00052a 915f                      	pop			r21
00052b 91ef                      	pop			ZL
00052c 91ff                      	pop			ZH
00052d 91af                      	pop			XL
00052e 91bf                      	pop			XH
                                 	
00052f 9478                      	sei							; Enable
000530 9518                      	reti
                                 
                                 ;***************************************************************************
                                 ;* CDS_HEX: HEX   X 
                                 ;***************************************************************************
                                 CDS_HEX:
000531 932f                      	push		r18
                                 
000532 2f21                      	mov			r18, temp
000533 7f10                      	andi		temp, 0xf0		;  4bit
000534 9516                      	lsr			temp
000535 9516                      	lsr			temp
000536 9516                      	lsr			temp
000537 9516                      	lsr			temp
000538 931d                      	st			X+, temp
                                 
000539 2f12                      	mov			temp, r18		; r24  
00053a 701f                      	andi		temp, 0x0f		;  4 
00053b 931d                      	st			X+, temp
                                 
00053c 912f                      	pop			r18
00053d 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* TEMP_DEC : HEX Data   Dec   X 
                                 ;***************************************************************************
                                 TEMP_DEC:
00053e 2d8e                      	mov			r24, TWIdataH
00053f fd87                      	sbrc		r24, 7			;    skip
000540 c004                      	rjmp		Minus_Degree
000541 e111                      	ldi			temp, 17
000542 931d                      	st			X+, temp		; DIGIT2
000543 d00c                      	rcall		DEC2DIGIT
000544 c005                      	rjmp		DEC_Done
                                 
                                 Minus_Degree:
000545 e110                      	ldi			temp, 16
000546 931d                      	st			X+, temp
000547 9580                      	com			r24
000548 5f8f                      	subi		r24, -1			; 2'th complement
000549 d006                      	rcall		DEC2DIGIT
                                 
                                 DEC_Done:
                                 	;( 8)
00054a 2d8f                      	mov			r24, TWIdataL
00054b e010                      	ldi			temp, 0
00054c fd87                      	sbrc		r24, 7			;      skip
00054d e015                      	ldi			temp, 5
00054e 931c                      	st			X, temp
00054f 9508                      	ret
                                 
                                 DEC2DIGIT:
000550 2f18                      	mov			temp, r24
000551 771f                      	andi		temp, 0x7f
000552 2744                      	clr			Quotient
                                 
                                 TEMP_DIG2:						; DIGIT2
000553 301a                      	cpi			temp, 10
000554 f018                      	brlo		TEMP_DIG3
000555 9543                      	inc			Quotient
000556 501a                      	subi		temp, 10
000557 cffb                      	rjmp		TEMP_DIG2
                                 
                                 TEMP_DIG3:						; DIGIT3
000558 934d                      	st			X+, Quotient
000559 931d                      	st			X+, temp
00055a 9508                      	ret
                                 
                                 PhoneNum:
00055b 1111
00055c 1111
00055d 0100
00055e 1000
00055f 0508
000560 0902
000561 0610
000562 0301
000563 1104
000564 1111
C:\Microprocessor\MyProject\MyProject\Timer0.asm(186): warning: .cseg .db misalignment - padding zero byte
C:\Microprocessor\MyProject\MyProject\Project.asm(231): 'C:\Microprocessor\MyProject\MyProject\Timer0.asm' included form here
000565 0011                      	.db 17, 17, 17, 17, 0, 1, 0, 16, 8, 5, 2, 9, 16, 6, 1, 3, 4, 17, 17, 17, 17
                                 #include "phone.asm"
                                 
                                 ;* Phone Number Display with stop by CTRL-C
                                 ;***************************************************************************
                                 PHONE_TEST:
000566 93ff                      	push	ZH
000567 93ef                      	push	ZL
000568 93bf                      	push	XH
000569 93af                      	push	XL
00056a 931f                      	push	temp
00056b d30c                      	rcall	UARTInt_On		;  (Service Routine)  RX Interrupt 
                                 	
00056c 94f8                      	cli						; Disable Interrupt
00056d df72                      	rcall	Timer0_init
00056e 9478                      	sei							; Enable Interrupt
                                 
                                 	; 7SEG  PortC DDR 
00056f ef1f                      	ser		temp
000570 bb14                      	out		DDRC, temp
                                 
                                 	; 4 7SEG   PortG DDR 
000571 e01f                      	ldi		temp, $0F		;  4bit 
000572 9310 0064                 	sts		DDRG, temp		; Extended I/O Port
                                 
000574 e075                      	ldi		TESTmode, TMODE_PHONE
000575 2477                      	clr		phonecnt
                                 	
000576 e0b1
000577 e5a0
000578 e111
000579 931d
00057a e111
00057b 931d
00057c e111
00057d 931d
00057e e111
00057f 931d                      	SetDigit4	17, 17, 17, 17
                                 
                                 Check_PHONE:
000580 2377                      	tst		TESTmode
000581 f091                      	breq	DONE_PHONE
000582 e038                      	ldi		FND_En, 0x08		; Enable 0000 1000 
000583 e0b1
000584 e5a0                      	SETXY	X, digit4			; X  digit4  
                                 
                                 PHONE_Loop:
000585 9330 0065                 	sts		PORTG, FND_En	; PORTG FND_En (  7seg   ) 
000587 911d                      	ld		temp, X+		; Offset  
                                 
000588 e0f7
000589 eee0                      	SETZ	SegData			; PM SegData  Z  
00058a 0fe1                      	add		ZL, temp		; Offset  (, Z   )
00058b 1df0                      	adc		ZH, r0
                                 
00058c 9124                      	lpm		FND_Data, Z		;  Z       Load
00058d bb25                      	out		PORTC, FND_Data	; Port C  
                                 
00058e e090
00058f e081
000590 db10                      	DELAYMS 1
                                 	
                                 	// 4 7SEG      7SEG   shift
000591 9536                      	lsr		FND_En			;     logistic shift right
000592 f369                      	breq	Check_PHONE		; 0000   1000 SetLoop 
000593 cff1                      	rjmp	PHONE_Loop
                                 
                                 DONE_PHONE:
000594 94f8                      	cli
                                 
                                 	; PORTC off
000595 ba05                      	out		PORTC, r0
                                 
                                 	; PORTG off
000596 9200 0065                 	sts		PORTG, r0
                                 
                                 	; Timer1 off
000598 be07                      	out		TIMSK, r0
                                 	
000599 91af                      	pop		XL
00059a 91bf                      	pop		XH
00059b 91ef                      	pop		ZL
00059c 91ff                      	pop		ZH
00059d 911f                      	pop		temp
00059e 9508                      	ret
                                 
                                 #include "photo.asm"
                                 
                                 ;* Photo Display with stop by CTRL-C
                                 ;***************************************************************************
                                 PHOTO_TEST:
00059f 93ff                      	push	ZH
0005a0 93ef                      	push	ZL
0005a1 93bf                      	push	XH
0005a2 93af                      	push	XL
0005a3 931f                      	push	temp
                                 
0005a4 d2d3                      	rcall	UARTInt_On		;  (Service Routine)  RX Interrupt 
0005a5 d2e4                      	rcall	ADC_Init		; AD Converter  
                                 
0005a6 94f8                      	cli						; Disable Interrupt
0005a7 df38                      	rcall	Timer0_init
0005a8 9478                      	sei						; Enable Interrupt
                                 
                                 	; 7SEG  PortC DDR 
0005a9 ef1f                      	ser		temp
0005aa bb14                      	out		DDRC, temp
                                 
                                 	; 4 7SEG   PortG DDR 
0005ab e01f                      	ldi		temp, $0F		;  4bit 
0005ac 9310 0064                 	sts		DDRG, temp		; Extended I/O Port
                                 
0005ae e076                      	ldi		TESTmode, TMODE_PHOTO
                                 
0005af e0b1
0005b0 e5a0
0005b1 e111
0005b2 931d
0005b3 e111
0005b4 931d
0005b5 e111
0005b6 931d
0005b7 e111
0005b8 931d                      	SetDigit4	17, 17, 17, 17
                                 
                                 Check_PHOTO:
0005b9 2377                      	tst		TESTmode
0005ba f091                      	breq	DONE_PHOTO
0005bb e038                      	ldi		FND_En, 0x08		; Enable 0000 1000 
0005bc e0b1
0005bd e5a0                      	SETXY	X, digit4			; X  digit4  
                                 
                                 PHOTO_Loop:
0005be 9330 0065                 	sts		PORTG, FND_En	; PORTG FND_En (  7seg   ) 
0005c0 911d                      	ld		temp, X+		; Offset  
                                 
0005c1 e0f7
0005c2 eee0                      	SETZ	SegData			; PM SegData  Z  
0005c3 0fe1                      	add		ZL, temp		; Offset  (, Z   )
0005c4 1df0                      	adc		ZH, r0
                                 	
0005c5 9124                      	lpm		FND_Data, Z		;  Z       Load
0005c6 bb25                      	out		PORTC, FND_Data	; Port C  
                                 
0005c7 e090
0005c8 e081
0005c9 dad7                      	DELAYMS 1
                                 	
                                 	// 4 7SEG      7SEG   shift
0005ca 9536                      	lsr		FND_En			;     logistic shift right
0005cb f369                      	breq	Check_PHOTO		; 0000   1000 SetLoop 
0005cc cff1                      	rjmp	PHOTO_Loop
                                 
                                 DONE_PHOTO:
0005cd 94f8                      	cli
                                 
                                 	; PORTC off
0005ce ba05                      	out		PORTC, r0
                                 
                                 	; PORTG off
0005cf 9200 0065                 	sts		PORTG, r0
                                 
                                 	; Timer1 off
0005d1 be07                      	out		TIMSK, r0
                                 
0005d2 91af                      	pop		XL
0005d3 91bf                      	pop		XH
0005d4 91ef                      	pop		ZL
0005d5 91ff                      	pop		ZH
0005d6 911f                      	pop		temp
                                 #include "temp.asm"
0005d7 9508                      
                                 ;* Temp Display with stop by CTRL-C
                                 ;***************************************************************************
                                 TEMP_TEST:
0005d8 93ff                      	push	ZH
0005d9 93ef                      	push	ZL
0005da 93bf                      	push	XH
0005db 93af                      	push	XL
0005dc 931f                      	push	temp
                                 
0005dd d29a                      	rcall	UARTInt_On		;  (Service Routine)  RX Interrupt 
0005de d034                      	rcall	TWI_Init
                                 
0005df 94f8                      	cli						; Disable Interrupt
0005e0 deff                      	rcall	Timer0_init
0005e1 9478                      	sei						; Enable Interrupt
                                 
                                 	; 7SEG  PortC DDR 
0005e2 ef1f                      	ser		temp
0005e3 bb14                      	out		DDRC, temp
                                 
                                 	; 4 7SEG   PortG DDR 
0005e4 e01f                      	ldi		temp, $0F		;  4bit 
0005e5 9310 0064                 	sts		DDRG, temp		; Extended I/O Port
                                 
0005e7 e077                      	ldi		TESTmode, TMODE_TEMP
                                 
0005e8 e0b1
0005e9 e5a0
0005ea e111
0005eb 931d
0005ec e111
0005ed 931d
0005ee e111
0005ef 931d
0005f0 e111
0005f1 931d                      	SetDigit4	17, 17, 17, 17
                                 
                                 Check_TEMP:
0005f2 2377                      	tst		TESTmode
0005f3 f0a1                      	breq	DONE_TEMP
0005f4 e038                      	ldi		FND_En, 0x08		; Enable 0000 1000 
0005f5 e0b1
0005f6 e5a0                      	SETXY	X, digit4			; X  digit4  
                                 
                                 TEMP_Loop:
0005f7 9330 0065                 	sts		PORTG, FND_En	; PORTG FND_En (  7seg   ) 
0005f9 911d                      	ld		temp, X+		; Offset  
                                 	
0005fa e0f7
0005fb eee0                      	SETZ	SegData			; PM SegData  Z  
0005fc 0fe1                      	add		ZL, temp		; Offset  (, Z   )
0005fd 0df0                      	add		ZH, r0
                                 
0005fe 9124                      	lpm		FND_Data, Z		;  Z       Load
0005ff fd31                      	sbrc	FND_En, 1		; 2 FND  DP (     )
000600 6820                      	ori		FND_Data, 0x80	; FND_Data MSB set
000601 bb25                      	out		PORTC, FND_Data	; Port C  
                                 
000602 e090
000603 e081
000604 da9c                      	DELAYMS 1
                                 	
                                 	// 4 7SEG      7SEG   shift
000605 9536                      	lsr		FND_En			;     logistic shift right
000606 f359                      	breq	Check_TEMP		; 0000   1000 SetLoop 
000607 cfef                      	rjmp	TEMP_Loop
                                 
                                 DONE_TEMP:
000608 94f8                      	cli
                                 
                                 	; PORTC off
000609 ba05                      	out		PORTC, r0
                                 
                                 	; PORTG off
00060a 9200 0065                 	sts		PORTG, r0
                                 
                                 	; Timer1 off
00060c be07                      	out		TIMSK, r0
                                 
00060d 91af                      	pop		XL
00060e 91bf                      	pop		XH
00060f 91ef                      	pop		ZL
000610 91ff                      	pop		ZH
000611 911f                      	pop		temp
                                 #include "TWI.asm"
000612 9508                      
                                 ;* TWI Initialization
                                 ;***************************************************************************
                                 TWI_Init:
000613 e013                      	ldi		temp, 0x03
000614 bb12                      	out		PORTD, temp		; Pull Up
                                 
                                 	; I2C Bitrate 400K 
000615 e01c                      	ldi		temp, 12
000616 9310 0070                 	sts		TWBR, temp
000618 e010                      	ldi		temp, (0<<TWPS1)|(0<<TWPS0);
000619 9310 0071                 	sts		TWSR, temp
                                 
00061b 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* Temperature Sensor Read
                                 ;***************************************************************************
                                 TempRead:
00061c 938f                      	push	r24
                                 	
00061d d010                      	rcall	TWI_Start
00061e e958                      	ldi		I2Cdata, ATS75_ADDR_W			; Write  
00061f d01d                      	rcall	TWI_Write
000620 e050                      	ldi		I2Cdata, ATS75_TEMP_REG			; internal register pointer
000621 d01b                      	rcall	TWI_Write
                                 
000622 d00b                      	rcall	TWI_Start
000623 e959                      	ldi		I2Cdata, ATS75_ADDR_R			; Read  
000624 d018                      	rcall	TWI_Write
                                 
000625 e061                      	ldi		I2Cack, 1						; 1st Byte Read  2nd Byte Read  ACK 1
000626 d020                      	rcall	TWI_Read
000627 2ee8                      	mov		TWIdataH, r24
                                 
000628 e060                      	ldi		I2Cack, 0						; 2nd Byte Read    ACK 0
000629 d01d                      	rcall	TWI_Read
00062a 2ef8                      	mov		TWIdataL, r24
                                 
00062b d00a                      	rcall	TWI_Stop
                                 
00062c 918f                      	pop		r24
00062d 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* Set TWI Communication Start
                                 ;***************************************************************************
                                 TWI_Start:
00062e ea14                      	ldi		temp, (1<<TWINT)|(1<<TWSTA)|(1<<TWEN)
00062f 9310 0074                 	sts		TWCR, temp
                                 
                                 TWI_Wait1:
000631 9110 0074                 	lds		temp, TWCR
000633 ff17                      	sbrs	temp, TWINT			; TWINT bit set     skip
000634 cffc                      	rjmp	TWI_Wait1
000635 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* Set TWI Communication Stop
                                 ;***************************************************************************
                                 TWI_Stop:
000636 e914                      	ldi		temp, (1<<TWINT)|(1<<TWSTO)|(1<<TWEN)
000637 9310 0074                 	sts		TWCR, temp
                                 
000639 e614                      	ldi		temp, 100			; time delay
                                 TWI_Wait2:
00063a 951a                      	dec		temp
00063b f7f1                      	brne	TWI_Wait2
00063c 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* I2C Write : Transmit Data(Slave io address, data ) TWDR write
                                 ;***************************************************************************
                                 TWI_Write:
00063d 9350 0073                 	sts		TWDR, I2Cdata
00063f e814                      	ldi		temp, (1<<TWINT)|(1<<TWEN)
000640 9310 0074                 	sts		TWCR, temp
                                 
                                 TWI_Wait3:
000642 9110 0074                 	lds		temp, TWCR
000644 ff17                      	sbrs	temp, TWINT
000645 cffc                      	rjmp	TWI_Wait3
000646 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* I2C Read : Slave  (TWDR) r24  
                                 ;***************************************************************************
                                 TWI_Read:
000647 e814                      	ldi		temp, (1<<TWINT) | (1<<TWEN) | (0<<TWEA)
000648 3060                      	cpi		I2Cack, 0
000649 f009                      	breq	SecondRead
00064a ec14                      	ldi		temp, (1<<TWINT) | (1<<TWEN) | (1<<TWEA)
                                 
                                 SecondRead:
00064b 9310 0074                 	sts		TWCR, temp
                                 
                                 TWI_Wait4:
00064d 9110 0074                 	lds		temp,TWCR
00064f ff17                      	sbrs	temp, TWINT
000650 cffc                      	rjmp	TWI_Wait4
                                 
000651 9180 0073                 	lds		r24, TWDR
                                 #include "proj.asm"
000653 9508                      
                                 ;* PROJECT
                                 ;***************************************************************************
                                 
                                 PROJ_TEST:
000654 931f                      	push	temp
000655 93bf                      	push	XH
000656 93af                      	push	XL
000657 93df                      	push	YH
000658 93cf                      	push	YL
000659 93ff                      	push	ZH
00065a 93ef                      	push	ZL
                                 
00065b e078                      	ldi		TESTmode, TMODE_PROJ
                                 
                                 Check_PROJ:
00065c e0ff
00065d e1ea
00065e da11                      	PRINT	ProjLetter
00065f 940e 0136                 	call	PRINTCmdCursor
000661 940e 039b                 	call	ReadCmd
                                 
000663 e0d1
000664 e0c0                      	SETXY	Y, buffer
000665 e1f0
000666 ece0                      	SETZ	ProjList
                                 	
                                 	; CTRL_C  
000667 8118                      	ld		temp, Y
000668 3013                      	cpi		temp, CTRL_C
000669 f0e1                      	breq	DONE_PROJ
                                 
00066a 940e 0385                 	call	StrCmp
00066c 2388                      	tst		r24
00066d f091                      	breq	Piano
                                 
00066e 50f0
00066f 5fea                      	ADDI16	Z, 6
000670 940e 0385                 	call	StrCmp
000672 2388                      	tst		r24
000673 f079                      	breq	Audio
                                 
000674 e0f6
000675 efe4
000676 d9f9                      	PRINT	Wrong_MSG
000677 e0d1
000678 e0c0                      	SETXY	Y, buffer
000679 940e 0086                 	call	PutStringD
00067b e281
00067c d9e5                      	PUTC	'!'
00067d e08d
00067e d9e3                      	PUTC	CR
                                 
00067f cfdc                      	rjmp	Check_PROJ
                                 
                                 Piano:
000680 940e 06fe                 	call	PIANO_TEST
000682 cfd9                      	rjmp	Check_PROJ
                                 
                                 Audio:
000683 940e 073a                 	call	AUDIO_TEST
000685 cfd6                      	rjmp	Check_PROJ
                                 
                                 DONE_PROJ:
000686 e08d
000687 d9da                      	PUTC	CR
000688 940e 012f                 	call	PrintTitle
                                 
00068a 91ef                      	pop		ZL
00068b 91ff                      	pop		ZH
00068c 91cf                      	pop		YL
00068d 91df                      	pop		YH
00068e 91af                      	pop		XL
00068f 91bf                      	pop		XH
000690 911f                      	pop		temp
000691 9508                      	ret
                                 
                                 CodeList:
000692 0043
000693 0000
000694 0000                      	.db 'C',EOS,EOS,EOS,EOS,EOS
000695 5343
000696 0000
000697 0000                      	.db "CS",EOS,EOS,EOS,EOS
000698 0044
000699 0000
00069a 0000                      	.db 'D',EOS,EOS,EOS,EOS,EOS
00069b 5344
00069c 0000
00069d 0000                      	.db "DS",EOS,EOS,EOS,EOS
00069e 0045
00069f 0000
0006a0 0000                      	.db 'E',EOS,EOS,EOS,EOS,EOS
0006a1 0046
0006a2 0000
0006a3 0000                      	.db 'F',EOS,EOS,EOS,EOS,EOS
0006a4 5346
0006a5 0000
0006a6 0000                      	.db "FS",EOS,EOS,EOS,EOS
0006a7 0047
0006a8 0000
0006a9 0000                      	.db 'G',EOS,EOS,EOS,EOS,EOS
0006aa 5347
0006ab 0000
0006ac 0000                      	.db "GS",EOS,EOS,EOS,EOS
0006ad 0041
0006ae 0000
0006af 0000                      	.db 'A',EOS,EOS,EOS,EOS,EOS
0006b0 5341
0006b1 0000
0006b2 0000                      	.db "AS",EOS,EOS,EOS,EOS
0006b3 0042
0006b4 0000
0006b5 0000                      	.db 'B',EOS,EOS,EOS,EOS,EOS
0006b6 4343
0006b7 0000
0006b8 0000                      	.db "CC",EOS,EOS,EOS,EOS
0006b9 4343
0006ba 0053
0006bb 0000                      	.db "CCS",EOS,EOS,EOS
0006bc 4444
0006bd 0000
0006be 0000                      	.db "DD",EOS,EOS,EOS,EOS
0006bf 4444
0006c0 0053
0006c1 0000                      	.db "DDS",EOS,EOS,EOS
0006c2 4545
0006c3 0000
0006c4 0000                      	.db "EE",EOS,EOS,EOS,EOS
0006c5 4646
0006c6 0000
0006c7 0000                      	.db "FF",EOS,EOS,EOS,EOS
0006c8 4646
0006c9 0053
0006ca 0000                      	.db "FFS",EOS,EOS,EOS
0006cb 4747
0006cc 0000
0006cd 0000                      	.db "GG",EOS,EOS,EOS,EOS
0006ce 4747
0006cf 0053
0006d0 0000                      	.db "GGS",EOS,EOS,EOS
0006d1 4141
0006d2 0000
0006d3 0000                      	.db "AA",EOS,EOS,EOS,EOS
0006d4 4141
0006d5 0053
0006d6 0000                      	.db "AAS",EOS,EOS,EOS
0006d7 4242
0006d8 0000
0006d9 0000                      	.db "BB",EOS,EOS,EOS,EOS
0006da 4343
0006db 0043
0006dc 0000                      	.db "CCC",EOS,EOS,EOS
0006dd 4343
0006de 5343
0006df 0000                      	.db "CCCS",EOS,EOS
0006e0 4444
0006e1 0044
0006e2 0000                      	.db "DDD",EOS,EOS,EOS
0006e3 4444
0006e4 5344
0006e5 0000                      	.db "DDDS",EOS,EOS
0006e6 4545
0006e7 0045
0006e8 0000                      	.db "EEE",EOS,EOS,EOS
0006e9 4646
0006ea 0046
0006eb 0000                      	.db "FFF",EOS,EOS,EOS
0006ec 4646
0006ed 5346
0006ee 0000                      	.db "FFFS",EOS,EOS
0006ef 4747
0006f0 0047
0006f1 0000                      	.db "GGG",EOS,EOS,EOS
0006f2 4747
0006f3 5347
0006f4 0000                      	.db "GGGS",EOS,EOS
0006f5 4141
0006f6 0041
0006f7 0000                      	.db "AAA",EOS,EOS,EOS
0006f8 4141
0006f9 5341
0006fa 0000                      	.db "AAAS",EOS,EOS
0006fb 4242
0006fc 0042
0006fd 0000                      	.db "BBB",EOS,EOS,EOS
                                 
                                 ;***************************************************************************
                                 ;*     include
                                 ;***************************************************************************
                                 #include "piano.asm"
                                 
                                 ;* Electronic Piano
                                 ;***************************************************************************
                                 PIANO_TEST:
0006fe 93ff                      	push	ZH
0006ff 93ef                      	push	ZL
000700 93df                      	push	YH
000701 93cf                      	push	YL
000702 929f                      	push	CodeCount
000703 928f                      	push	ToneSong
000704 938f                      	push	r24
                                 
000705 94f8                      	cli
000706 ddbe                      	rcall	init_Timer2
000707 9478                      	sei
                                 
000708 e110                      	ldi		temp, 0x10
000709 bb17                      	out		DDRB, temp
00070a 2466                      	clr		BUZMode
                                 
                                 PlayPiano:
00070b 94f8                      	cli
00070c e0d1
00070d e0c0                      	SETXY	Y, buffer
00070e d967                      	rcall	GetString
00070f e08d
000710 d951                      	PUTC	CR
                                 
                                 	; CTRL-C   
000711 e0d1
000712 e0c0                      	SETXY	Y, buffer
000713 8118                      	ld		temp, Y
000714 3013                      	cpi		temp, CTRL_C
000715 f0c9                      	breq	DONE_PIANO
                                 
000716 2499                      	clr		CodeCount
000717 e0fd
000718 e2e4                      	SETZ	CodeList
                                 
                                 CompCode:
000719 940e 0385                 	call	StrCmp 
00071b 2388                      	tst		r24
00071c f039                      	breq	PlayCode
00071d 9493                      	inc		CodeCount
                                 
                                 	;    Code     
00071e e214                      	ldi		temp, 36
00071f 1691                      	cp		CodeCount, temp
000720 f351                      	breq	PlayPiano		
                                 	
000721 50f0
000722 5fea                      	ADDI16	Z, 6
000723 cff5                      	rjmp	CompCode
                                 
                                 PlayCode:
000724 9478                      	sei
000725 e1f0
000726 ecec                      	SETZ	PianoCode
000727 0de9                      	add		ZL, CodeCount
000728 1df0                      	adc		ZH, r0
                                 
000729 9114                      	lpm		temp, Z
00072a 2e81                      	mov		ToneSong, temp
00072b e091
00072c ef84
00072d d973                      	DELAYMS	500
00072e cfdc                      	rjmp	PlayPiano 
                                 
                                 
                                 DONE_PIANO:
00072f 94f8                      	cli
                                 
000730 ba08                      	out		PORTB, r0		; PORTB off
000731 be07                      	out		TIMSK, r0		;    X
                                 
000732 918f                      	pop		r24
000733 908f                      	pop		ToneSong
000734 909f                      	pop		CodeCount
000735 91cf                      	pop		YL
000736 91df                      	pop		YH
000737 91ef                      	pop		ZL
000738 91ff                      	pop		ZH
000739 9508                      	ret
                                 
                                 #include "audio.asm"
                                 
                                 ;* Play Audio
                                 ;***************************************************************************
                                 AUDIO_TEST:
00073a 93ff                      	push	ZH
00073b 93ef                      	push	ZL
00073c 93df                      	push	YH
00073d 93cf                      	push	YL
00073e 929f                      	push	CodeCount
00073f 928f                      	push	ToneSong
000740 938f                      	push	r24
000741 924f                      	push	LocationY
                                 
000742 94f8                      	cli
000743 dd81                      	rcall	init_Timer2
000744 9478                      	sei
                                 
000745 e110                      	ldi		temp, 0x10
000746 bb17                      	out		DDRB, temp
000747 2466                      	clr		BUZMode
                                 
                                 AUDIO_INPUT:
000748 94f8                      	cli
000749 ba08                      	out		PORTB, r0
                                 
00074a e0d1
00074b e5c4                      	SETXY	Y, StoreSong
00074c d929                      	rcall	GetString
00074d e08d
00074e d913                      	PUTC	CR
                                 
00074f e0d1
000750 e5c4                      	SETXY	Y, StoreSong
000751 8118                      	ld		temp, Y
000752 3013                      	cpi		temp, CTRL_C
000753 f161                      	breq	DONE_AUDIO
                                 
                                 SPACEBAR:
000754 9119                      	ld		temp, Y+
                                 	
000755 3210                      	cpi		temp, SP
000756 f019                      	breq	SP2EOS
                                 	
000757 3010                      	cpi		temp, EOS
000758 f039                      	breq	Audio_Start
000759 cffa                      	rjmp	SPACEBAR
                                 
                                 SP2EOS:
00075a e010                      	ldi		temp, EOS
00075b 931a                      	st		-Y, temp
                                 
00075c e011                      	ldi		temp, 1
00075d 0fc1                      	add		YL, temp
00075e 1dd0                      	adc		YH, r0
                                 
00075f cff4                      	rjmp	SPACEBAR
                                 	
                                 Audio_Start:
000760 ef1f                      	ldi		temp, 0xff		; SPACEBAR    EOS 
000761 8318                      	st		Y, temp
000762 e0d1
000763 e5c4                      	SETXY	Y, StoreSong
                                 	
                                 Comp_Start:
000764 8118                      	ld		temp, Y
000765 3f1f                      	cpi		temp, 0xff
000766 f309                      	breq	AUDIO_INPUT
000767 2499                      	clr		CodeCount
000768 e0fd
000769 e2e4                      	SETZ	CodeList
                                 
                                 Comp_Audio:
00076a 2444                      	clr		LocationY
00076b 940e 0385                 	call	StrCmp
                                 
00076d 2388                      	tst		r24
00076e f021                      	breq	Play_Audio
00076f 9493                      	inc		CodeCount
                                 
000770 50f0
000771 5fea                      	ADDI16	Z, 6
000772 cff7                      	rjmp	Comp_Audio
                                 
                                 Play_Audio:
000773 9478                      	sei
                                 
000774 e1f0
000775 ecec                      	SETZ	PianoCode
000776 0de9                      	add		ZL, CodeCount
000777 1df0                      	adc		ZH, r0
                                 
000778 9114                      	lpm		temp, Z
000779 2e81                      	mov		ToneSong, temp
00077a e091
00077b ef84
00077c d924                      	DELAYMS	500
                                 
00077d 0dc4                      	add		YL, LocationY
00077e 1dd0                      	adc		YH, r0
                                 
00077f cfe4                      	rjmp	Comp_Start
                                 
                                 DONE_AUDIO:
000780 94f8                      	cli
                                 
000781 2777                      	clr		TESTmode
                                 
000782 ba08                      	out		PORTB, r0		; PORTB off
000783 be07                      	out		TIMSK, r0		;    X
                                 	
000784 904f                      	pop		LocationY
000785 918f                      	pop		r24
000786 908f                      	pop		ToneSong
000787 909f                      	pop		CodeCount
000788 91cf                      	pop		YL
000789 91df                      	pop		YH
00078a 91ef                      	pop		ZL
00078b 91ff                      	pop		ZH
00078c 9508                      
                                 ProjLetter:
00078d 3d2b
00078e 3d3d
00078f 3d3d
000790 3d3d
000791 3d3d
000792 3d3d
000793 3d3d
000794 3d3d
000795 3d3d
000796 3d3d
000797 3d3d
000798 3d3d
000799 3d3d
00079a 3d3d
00079b 3d3d
00079c 3d3d
00079d 3d3d
00079e 3d3d
00079f 3d3d
0007a0 3d3d
0007a1 3d3d
0007a2 3d3d
0007a3 3d3d
0007a4 3d3d
0007a5 3d3d
0007a6 3d3d
0007a7 3d3d
0007a8 3d3d
0007a9 3d3d
0007aa 3d3d
0007ab 3d3d
0007ac 3d3d
0007ad 3d3d
0007ae 3d3d
0007af 0d2b                      	.db "+===================================================================+",CR
0007b0 207c
0007b1 7250
0007b2 6a6f
0007b3 6365
0007b4 2074
0007b5 203a
0007b6 6c45
0007b7 6365
0007b8 7274
0007b9 6e6f
0007ba 6369
0007bb 5020
0007bc 6169
0007bd 6f6e
0007be 2620
0007bf 4120
0007c0 6475
0007c1 6f69
0007c2 2020
0007c3 2020
0007c4 2020
0007c5 2020
0007c6 2020
0007c7 2020
0007c8 2020
0007c9 2020
0007ca 2020
0007cb 2020
0007cc 2020
0007cd 2020
0007ce 2020
0007cf 2020
0007d0 2020
0007d1 2020
0007d2 0d7c                      	.db "| Project : Electronic Piano & Audio                                |",CR
0007d3 3d2b
0007d4 3d3d
0007d5 3d3d
0007d6 3d3d
0007d7 3d3d
0007d8 3d3d
0007d9 3d3d
0007da 3d3d
0007db 3d3d
0007dc 3d3d
0007dd 3d3d
0007de 3d3d
0007df 3d3d
0007e0 3d3d
0007e1 3d3d
0007e2 3d3d
0007e3 3d3d
0007e4 3d3d
0007e5 3d3d
0007e6 3d3d
0007e7 3d3d
0007e8 3d3d
0007e9 3d3d
0007ea 3d3d
0007eb 3d3d
0007ec 3d3d
0007ed 3d3d
0007ee 3d3d
0007ef 3d3d
0007f0 3d3d
0007f1 3d3d
0007f2 3d3d
0007f3 3d3d
0007f4 3d3d
0007f5 0d2b                      	.db "+===================================================================+",CR
0007f6 207c
0007f7 6970
0007f8 6e61
0007f9 206f
0007fa 203a
0007fb 6c45
0007fc 6365
0007fd 7274
0007fe 6e6f
0007ff 6369
000800 5020
000801 6169
000802 6f6e
000803 2020
000804 2020
000805 2020
000806 2020
000807 2020
000808 2020
000809 2020
00080a 2020
00080b 2020
00080c 2020
00080d 2020
00080e 2020
00080f 2020
000810 2020
000811 2020
000812 2020
000813 2020
000814 2020
000815 2020
000816 2020
000817 2020
000818 0d7c                      	.db "| piano : Electronic Piano                                          |",CR
000819 207c
00081a 7561
00081b 6964
00081c 206f
00081d 203a
00081e 6c50
00081f 7961
000820 5320
000821 6e6f
000822 2067
000823 6977
000824 6874
000825 4b20
000826 7965
000827 6f62
000828 7261
000829 2064
00082a 6e49
00082b 7570
00082c 2074
00082d 2020
00082e 2020
00082f 2020
000830 2020
000831 2020
000832 2020
000833 2020
000834 2020
000835 2020
000836 2020
000837 2020
000838 2020
000839 2020
00083a 2020
00083b 0d7c                      	.db "| audio : Play Song with Keyboard Input                             |",CR
00083c 3d2b
00083d 3d3d
00083e 3d3d
00083f 3d3d
000840 3d3d
000841 3d3d
000842 3d3d
000843 3d3d
000844 3d3d
000845 3d3d
000846 3d3d
000847 3d3d
000848 3d3d
000849 3d3d
00084a 3d3d
00084b 3d3d
00084c 3d3d
00084d 3d3d
00084e 3d3d
00084f 3d3d
000850 3d3d
000851 3d3d
000852 3d3d
000853 3d3d
000854 3d3d
000855 3d3d
000856 3d3d
000857 3d3d
000858 3d3d
000859 3d3d
00085a 3d3d
00085b 3d3d
00085c 3d3d
00085d 3d3d
00085e 0d2b
00085f 0000                      	.db "+===================================================================+",CR, EOS, EOS
                                 
                                 ProjList:
000860 6970
000861 6e61
000862 006f                      	.db "piano", EOS
000863 7561
000864 6964
000865 006f                      	.db "audio", EOS
                                 
                                 PianoCode:
000866 1e11
000867 372b
000868 4d42
000869 6157
00086a 7269
00086b 7f7a
00086c 8f89
00086d 9b95
00086e a6a1
00086f b0ab
000870 b9b5
000871 c1bd
000872 c8c4
000873 cecb
000874 d3d1
000875 d8d6
000876 dcda
000877 e0de                      	.db C, CS, D, DS, E, F, FS, G, GS, A, AS, B, CC, CCS, DD, DDS, EE, FF, FFS, GG, GGS, AA, AAS, BB, CCC, CCCS, DDD, DDDS, EEE, FFF, FFFS, GGG, GGGS, AAA, AAAS, BBB
                                 
                                 ;***************************************************************************
                                 ;* UART RX Interrupt
                                 ;***************************************************************************
                                 
                                 UARTint_On:
000878 b11a                      	in		temp, UCSR0B
000879 6810                      	ori		temp, (1<<RXCIE0)	; 1000 0000 ori RX Interrupt Set
00087a b91a                      	out		UCSR0B, temp
00087b 9508                      	ret
                                 
                                 UARTint_Off:
00087c b11a                      	in		temp, UCSR0B
00087d 771f                      	andi	temp, ~(1<<RXCIE0)	; 0111 1111 andi RX Interrupt Disable
00087e b91a                      	out		UCSR0B, temp
00087f 9508                      	ret
                                 
                                 UART_RXInt:
000880 b6bf                      	in		SREG2, SREG			; Status Register 
                                 	
000881 940e 006c                 	call	GetChar
000883 3083                      	cpi		r24, CTRL_C			; CTRL_C  
000884 f011                      	breq	Program_off			;   TESTmode 0  
                                 	
000885 bebf                      	out		SREG, SREG2			; Status Register 
000886 9518                      	reti
                                 
                                 Program_off:
000887 2777                      	clr		TESTmode
000888 bebf                      	out		SREG, SREG2			; Status Register 
000889 9518                      	reti
                                 
                                 ;***************************************************************************
                                 ;* ADC Initialization
                                 ;*************************************************************************** 
                                 ADC_Init:
00088a b807                      	out		ADMUX, r0
                                 
00088b e817                      	ldi		temp, 0x87	; ADEN = '1', FreeRunning = '0', PreScaler = "111"(128)
00088c b916                      	out		ADCSRA, temp
00088d 9508                      	ret
                                 
                                 ;***************************************************************************
                                 ;* Read ADC
                                 ;***************************************************************************
                                 Read_ADC:
00088e b116                      	in		temp, ADCSRA
00088f 6410                      	ori		temp, $40	; Start Conversion Bit set
000890 b916                      	out		ADCSRA, temp	
                                 
                                 ADCwait:
000891 b116                      	in		temp, ADCSRA
000892 ff14                      	sbrs	temp, ADIF
000893 cffd                      	rjmp	ADCwait
                                 
000894 b0c4                      	in		ADdataL, ADCL
000895 b0d5                      	in		ADdataH, ADCH
000896 9508                      	ret
                                 
                                 
                                 .DSEG
                                 	.ORG	0x0100
                                 
                                 buffer:
000100                           	.byte	80					;  80    
                                 
                                 digit4:
000150                           	.byte	4
                                 
                                 StoreSong:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

"ATmega128" register use summary:
x  :  43 y  :  12 z  :  11 r0 :  36 r1 :   2 r2 :   3 r3 :   4 r4 :   5 
r5 :   0 r6 :   6 r7 :   5 r8 :   8 r9 :  11 r10:   0 r11:  13 r12:   3 
r13:   3 r14:   3 r15:   3 r16:   3 r17: 269 r18:  17 r19:  24 r20:  13 
r21:  13 r22:   3 r23:  21 r24: 101 r25:  16 r26:  31 r27:  31 r28:  24 
r29:  24 r30:  56 r31:  56 
Registers used: 33 out of 35 (94.3%)

"ATmega128" instruction use summary:
.lds  :   0 .sts  :   0 adc   :   7 add   :  13 adiw  :   0 and   :   0 
andi  :   6 asr   :   0 bclr  :   0 bld   :   0 brbc  :   0 brbs  :   0 
brcc  :   0 brcs  :   0 break :   0 breq  :  50 brge  :   0 brhc  :   0 
brhs  :   0 brid  :   0 brie  :   0 brlo  :   1 brlt  :   0 brmi  :   0 
brne  :  10 brpl  :   0 brsh  :   1 brtc  :   0 brts  :   0 brvc  :   0 
brvs  :   0 bset  :   0 bst   :   0 call  :  25 cbi   :   0 cbr   :   0 
clc   :   0 clh   :   0 cli   :  24 cln   :   0 clr   :  20 cls   :   0 
clt   :   0 clv   :   0 clz   :   0 com   :   2 cp    :   5 cpc   :   0 
cpi   :  25 cpse  :   0 dec   :   3 elpm  :   0 eor   :   0 fmul  :   0 
fmuls :   0 fmulsu:   0 icall :   0 ijmp  :   0 in    :  13 inc   :  10 
jmp   :   7 ld    :  15 ldd   :   0 ldi   : 230 lds   :   4 lpm   :  17 
lsl   :   0 lsr   :  14 mov   :  25 movw  :   0 mul   :   0 muls  :   0 
mulsu :   0 neg   :   0 nop   :   0 or    :   0 ori   :   3 out   :  67 
pop   :  79 push  :  79 rcall : 102 ret   :  55 reti  :   5 rjmp  :  39 
rol   :   0 ror   :   0 sbc   :   0 sbci  :   0 sbi   :   0 sbic  :   0 
sbis  :   2 sbiw  :   3 sbr   :   0 sbrc  :   3 sbrs  :   4 sec   :   0 
seh   :   0 sei   :  17 sen   :   0 ser   :   4 ses   :   0 set   :   0 
sev   :   0 sez   :   0 sleep :   0 spm   :   0 st    :  39 std   :   0 
sts   :  25 sub   :   0 subi  :  26 swap  :   0 tst   :  21 wdr   :   0 

Instructions used: 41 out of 114 (36.0%)

"ATmega128" memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x00112e   2310   1976   4286  131072   3.3%
[.dseg] 0x000100 0x0001a4      0    164    164    4096   4.0%
[.eseg] 0x000000 0x000000      0      0      0    4096   0.0%

Assembly complete, 0 errors, 1 warnings
